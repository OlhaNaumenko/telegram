<!DOCTYPE html>
<!-- saved from url=(0053)https://docs.python.org/uk/3/library/collections.html -->
<html lang="uk"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/">
<meta property="og:title" content="collections — Контейнерні типи даних">
<meta property="og:type" content="website">
<meta property="og:url" content="https://docs.python.org/3/library/collections.html">
<meta property="og:site_name" content="Python documentation">
<meta property="og:description" content="Вихідний код: Lib/collections/__init__.py Цей модуль реалізує спеціалізовані типи даних контейнерів, що є альтернативою вбудованим контейнерам загального призначення Python, dict, list, set і tuple...">
<meta property="og:image" content="https://docs.python.org/3/_static/og-image.png">
<meta property="og:image:alt" content="Python documentation">
<meta name="description" content="Вихідний код: Lib/collections/__init__.py Цей модуль реалізує спеціалізовані типи даних контейнерів, що є альтернативою вбудованим контейнерам загального призначення Python, dict, list, set і tuple...">
<meta property="og:image:width" content="200">
<meta property="og:image:height" content="200">
<meta name="theme-color" content="#3776ab">

    <title>collections — Контейнерні типи даних — Python 3.11.3 documentation</title><meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" type="text/css" href="./collections.documentation_files/pygments.css">
    <link rel="stylesheet" type="text/css" href="./collections.documentation_files/pydoctheme.css">
    
    <script data-url_root="../" id="documentation_options" src="./collections.documentation_files/documentation_options.js.Без названия"></script>
    <script src="./collections.documentation_files/jquery.js.Без названия"></script>
    <script src="./collections.documentation_files/underscore.js.Без названия"></script>
    <script src="./collections.documentation_files/doctools.js.Без названия"></script>
    
    <script src="./collections.documentation_files/sidebar.js.Без названия"></script>
    
    <link rel="search" type="application/opensearchdescription+xml" title="Шукати в Python 3.11.3 documentation" href="https://docs.python.org/uk/3/_static/opensearch.xml">
    <link rel="author" title="Про ці документи" href="https://docs.python.org/uk/3/about.html">
    <link rel="index" title="Індекс" href="https://docs.python.org/uk/3/genindex.html">
    <link rel="search" title="Пошук" href="https://docs.python.org/uk/3/search.html">
    <link rel="copyright" title="Авторське право" href="https://docs.python.org/uk/3/copyright.html">
    <link rel="next" title="collections.abc — Abstract Base Classes for Containers" href="https://docs.python.org/uk/3/library/collections.abc.html">
    <link rel="prev" title="calendar — Загальні функції, пов’язані з календарем" href="https://docs.python.org/uk/3/library/calendar.html">
    <link rel="canonical" href="https://docs.python.org/3/library/collections.html">
    
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>
<link rel="shortcut icon" type="image/png" href="./collections.documentation_files/py.svg">
            <script type="text/javascript" src="./collections.documentation_files/copybutton.js.Без названия"></script>
            <script type="text/javascript" src="./collections.documentation_files/menu.js.Без названия"></script> 

  </head>
<body>
<div class="mobile-nav">
    <input type="checkbox" id="menuToggler" class="toggler__input" aria-controls="navigation" aria-pressed="false" aria-expanded="false" role="button" aria-label="Menu">
    <label for="menuToggler" class="toggler__label">
        <span></span>
    </label>
    <nav class="nav-content" role="navigation">
         <a href="https://www.python.org/" class="nav-logo">
             <img src="./collections.documentation_files/py.svg" alt="Logo">
         </a>
        <div class="version_switcher_placeholder"><select id="version_select"><option value="3.13">dev (3.13)</option><option value="3.12">pre (3.12)</option><option value="3.11" selected="selected">3.11.3</option><option value="3.10">3.10</option><option value="3.9">3.9</option><option value="3.8">3.8</option><option value="3.7">3.7</option><option value="3.6">3.6</option><option value="3.5">3.5</option><option value="2.7">2.7</option></select></div>
        <form role="search" class="search" action="https://docs.python.org/uk/3/search.html" method="get">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="search-icon">
                <path fill-rule="nonzero" d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="#444"></path>
            </svg>
            <input type="text" name="q" aria-label="Швидкий пошук">
            <input type="submit" value="Вперед">
        </form>
    </nav>
    <div class="menu-wrapper">
        <nav class="menu" role="navigation" aria-label="main navigation" tabindex="-1">
            <div class="language_switcher_placeholder"><select id="language_select"><option value="en" selected="selected">English</option><option value="es">Spanish</option><option value="fr">French</option><option value="ja">Japanese</option><option value="ko">Korean</option><option value="pt-br">Brazilian Portuguese</option><option value="tr">Turkish</option><option value="zh-cn">Simplified Chinese</option><option value="zh-tw">Traditional Chinese</option></select></div>
  <div>
    <h3><a href="https://docs.python.org/uk/3/contents.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">collections</span></code> — Контейнерні типи даних</a><ul>
<li><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#chainmap-objects"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChainMap</span></code> об’єкти</a><ul>
<li><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#chainmap-examples-and-recipes"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChainMap</span></code> Приклади та рецепти</a></li>
</ul>
</li>
<li><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#counter-objects"><code class="xref py py-class docutils literal notranslate"><span class="pre">Counter</span></code> об’єкти</a></li>
<li><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#deque-objects"><code class="xref py py-class docutils literal notranslate"><span class="pre">deque</span></code> об’єкти</a><ul>
<li><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#deque-recipes"><code class="xref py py-class docutils literal notranslate"><span class="pre">deque</span></code> Рецепти</a></li>
</ul>
</li>
<li><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#defaultdict-objects"><code class="xref py py-class docutils literal notranslate"><span class="pre">defaultdict</span></code> об’єкти</a><ul>
<li><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#defaultdict-examples"><code class="xref py py-class docutils literal notranslate"><span class="pre">defaultdict</span></code> Приклади</a></li>
</ul>
</li>
<li><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#namedtuple-factory-function-for-tuples-with-named-fields"><code class="xref py py-func docutils literal notranslate"><span class="pre">namedtuple()</span></code> Фабрична функція для кортежів з іменованими полями</a></li>
<li><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#ordereddict-objects"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code> об’єкти</a><ul>
<li><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#ordereddict-examples-and-recipes"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code> Приклади та рецепти</a></li>
</ul>
</li>
<li><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#userdict-objects"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserDict</span></code> об’єкти</a></li>
<li><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#userlist-objects"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserList</span></code> об’єкти</a></li>
<li><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#userstring-objects"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserString</span></code> об’єкти</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Попередній розділ</h4>
    <p class="topless"><a href="https://docs.python.org/uk/3/library/calendar.html" title="Попередній розділ"><code class="xref py py-mod docutils literal notranslate"><span class="pre">calendar</span></code> — Загальні функції, пов’язані з календарем</a></p>
  </div>
  <div>
    <h4>Наступна тема</h4>
    <p class="topless"><a href="https://docs.python.org/uk/3/library/collections.abc.html" title="наступний розділ"><code class="xref py py-mod docutils literal notranslate"><span class="pre">collections.abc</span></code> — Abstract Base Classes for Containers</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>Ця сторінка</h3>
    <ul class="this-page-menu">
      <li><a href="https://docs.python.org/uk/3/bugs.html">Повідомити про помилку</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/3.11/Doc/library/collections.rst" rel="nofollow">Показати джерело
        </a>
      </li>
    </ul>
  </div>
        </nav>
    </div>
</div>

  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Навігація</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="https://docs.python.org/uk/3/genindex.html" title="Загальний покажчик" accesskey="I">індекс</a></li>
        <li class="right">
          <a href="https://docs.python.org/uk/3/py-modindex.html" title="Python Module Index">модулі</a> |</li>
        <li class="right">
          <a href="https://docs.python.org/uk/3/library/collections.abc.html" title="collections.abc — Abstract Base Classes for Containers" accesskey="N">наступний</a> |</li>
        <li class="right">
          <a href="https://docs.python.org/uk/3/library/calendar.html" title="calendar — Загальні функції, пов’язані з календарем" accesskey="P">попередній</a> |</li>

          <li><img src="./collections.documentation_files/py.svg" alt="python logo" style="vertical-align: middle; margin-top: -1px"></li>
          <li><a href="https://www.python.org/">Python</a> »</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"><select id="language_select"><option value="en" selected="selected">English</option><option value="es">Spanish</option><option value="fr">French</option><option value="ja">Japanese</option><option value="ko">Korean</option><option value="pt-br">Brazilian Portuguese</option><option value="tr">Turkish</option><option value="zh-cn">Simplified Chinese</option><option value="zh-tw">Traditional Chinese</option></select></div>
            <div class="version_switcher_placeholder"><select id="version_select"><option value="3.13">dev (3.13)</option><option value="3.12">pre (3.12)</option><option value="3.11" selected="selected">3.11.3</option><option value="3.10">3.10</option><option value="3.9">3.9</option><option value="3.8">3.8</option><option value="3.7">3.7</option><option value="3.6">3.6</option><option value="3.5">3.5</option><option value="2.7">2.7</option></select></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="https://docs.python.org/uk/3/index.html">3.11.3 Documentation</a> »
    </li>

          <li class="nav-item nav-item-1"><a href="https://docs.python.org/uk/3/library/index.html">Стандартна бібліотека Python</a> »</li>
          <li class="nav-item nav-item-2"><a href="https://docs.python.org/uk/3/library/datatypes.html" accesskey="U">Типи даних</a> »</li>
        <li class="nav-item nav-item-this"><a href="https://docs.python.org/uk/3/library/collections.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">collections</span></code> — Контейнерні типи даних</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="https://docs.python.org/uk/3/search.html" method="get">
          <input placeholder="Швидкий пошук" aria-label="Швидкий пошук" type="text" name="q">
          <input type="submit" value="Вперед">
          <input type="hidden" name="check_keywords" value="yes">
          <input type="hidden" name="area" value="default">
        </form>
    </div>
                     |
                </li>
            
      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-collections">
<span id="collections-container-datatypes"></span><h1><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#module-collections" title="collections: Container datatypes"><code class="xref py py-mod docutils literal notranslate"><span class="pre">collections</span></code></a> — Контейнерні типи даних<a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#module-collections" title="Постійне посилання на цей заголовок">¶</a></h1>
<p><strong>Вихідний код:</strong> <a class="reference external" href="https://github.com/python/cpython/tree/3.11/Lib/collections/__init__.py">Lib/collections/__init__.py</a></p>
<hr class="docutils">
<p>Цей модуль реалізує спеціалізовані типи даних контейнерів, що є альтернативою вбудованим контейнерам загального призначення Python, <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>, <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#list" title="list"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>, <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#set" title="set"><code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code></a> і <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#tuple" title="tuple"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>.</p>
<div class="responsive-table__container"><table class="docutils align-default">
<colgroup>
<col style="width: 24%">
<col style="width: 76%">
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.namedtuple" title="collections.namedtuple"><code class="xref py py-func docutils literal notranslate"><span class="pre">namedtuple()</span></code></a></p></td>
<td><p>функція фабрики для створення підкласів кортежів з іменованими полями</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.deque" title="collections.deque"><code class="xref py py-class docutils literal notranslate"><span class="pre">deque</span></code></a></p></td>
<td><p>контейнер, схожий на список, із швидким додаванням і вискакуванням на обох кінцях</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.ChainMap" title="collections.ChainMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChainMap</span></code></a></p></td>
<td><p>dict-подібний клас для створення єдиного перегляду кількох відображень</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.Counter" title="collections.Counter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Counter</span></code></a></p></td>
<td><p>dict subclass for counting <a class="reference internal" href="https://docs.python.org/uk/3/glossary.html#term-hashable"><span class="xref std std-term">hashable</span></a> objects</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a></p></td>
<td><p>підклас dict, який запам’ятовує додані записи порядку</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.defaultdict" title="collections.defaultdict"><code class="xref py py-class docutils literal notranslate"><span class="pre">defaultdict</span></code></a></p></td>
<td><p>підклас dict, який викликає фабричну функцію для надання відсутніх значень</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.UserDict" title="collections.UserDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserDict</span></code></a></p></td>
<td><p>обгортка навколо об’єктів словника для легшого створення підкласів dict</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.UserList" title="collections.UserList"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserList</span></code></a></p></td>
<td><p>обгортка навколо об’єктів списку для легшого створення підкласів списку</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.UserString" title="collections.UserString"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserString</span></code></a></p></td>
<td><p>обгортка навколо рядкових об’єктів для легшого створення підкласів рядків</p></td>
</tr>
</tbody>
</table></div>
<section id="chainmap-objects">
<h2><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.ChainMap" title="collections.ChainMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChainMap</span></code></a> об’єкти<a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#chainmap-objects" title="Постійне посилання на цей заголовок">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified added">Нове в версії 3.3.</span></p>
</div>
<p>Клас <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.ChainMap" title="collections.ChainMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChainMap</span></code></a> надається для швидкого зв’язування кількох відображень, щоб їх можна було розглядати як єдине ціле. Часто це набагато швидше, ніж створення нового словника та виконання кількох викликів <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#dict.update" title="dict.update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">update()</span></code></a>.</p>
<p>Клас можна використовувати для імітації вкладених областей і корисний у створенні шаблонів.</p>
<dl class="py class">
<dt class="sig sig-object py" id="collections.ChainMap">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">collections.</span></span><span class="sig-name descname"><span class="pre">ChainMap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">maps</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.ChainMap" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.ChainMap" title="collections.ChainMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChainMap</span></code></a> групує кілька dicts або інших відображень разом, щоб створити єдине оновлюване подання. Якщо <em>maps</em> не вказано, надається єдиний порожній словник, щоб новий ланцюжок завжди мав принаймні одне відображення.</p>
<p>Базові відображення зберігаються в списку. Цей список є загальнодоступним, і до нього можна отримати доступ або оновити за допомогою атрибута <em>maps</em>. Іншої держави немає.</p>
<p>Пошуки послідовно шукають базові відображення, доки не буде знайдено ключ. Навпаки, записи, оновлення та видалення діють лише на першому відображенні.</p>
<p><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.ChainMap" title="collections.ChainMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChainMap</span></code></a> включає базові відображення за посиланням. Отже, якщо одне з базових відображень буде оновлено, ці зміни буде відображено в <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.ChainMap" title="collections.ChainMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChainMap</span></code></a>.</p>
<p>Підтримуються всі звичайні словникові методи. Крім того, існує атрибут <em>maps</em>, метод для створення нових підконтекстів і властивість для доступу до всіх відображень, крім першого:</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="collections.ChainMap.maps">
<span class="sig-name descname"><span class="pre">maps</span></span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.ChainMap.maps" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Список відображень, який можна оновлювати користувачем. Список упорядковано від першого до останнього. Це єдиний стан, який зберігається, і його можна змінити, щоб змінити зіставлення, які шукаються. Список завжди повинен містити принаймні одне зіставлення.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="collections.ChainMap.new_child">
<span class="sig-name descname"><span class="pre">new_child</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.ChainMap.new_child" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Повертає новий <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.ChainMap" title="collections.ChainMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChainMap</span></code></a>, який містить нову карту, за якою слідують усі карти в поточному екземплярі. Якщо вказано <code class="docutils literal notranslate"><span class="pre">m</span></code>, воно стає новою картою на початку списку зіставлень; якщо не вказано, використовується порожній dict, так що виклик <code class="docutils literal notranslate"><span class="pre">d.new_child()</span></code> еквівалентний: <code class="docutils literal notranslate"><span class="pre">ChainMap({},</span> <span class="pre">*d.maps)</span></code>. Якщо вказано будь-які аргументи ключового слова, вони оновлюють передану карту або новий порожній dict. Цей метод використовується для створення підконтекстів, які можна оновлювати без зміни значень у будь-якому з батьківських відображень.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Змінено в версії 3.4: </span>Додано необов’язковий параметр <code class="docutils literal notranslate"><span class="pre">m</span></code>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Змінено в версії 3.10: </span>Додано підтримку аргументів ключових слів.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="collections.ChainMap.parents">
<span class="sig-name descname"><span class="pre">parents</span></span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.ChainMap.parents" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Властивість, що повертає новий <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.ChainMap" title="collections.ChainMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChainMap</span></code></a>, що містить усі карти в поточному екземплярі, крім першої. Це корисно для пропуску першої карти в пошуку. Випадки використання схожі на випадки використання ключового слова <a class="reference internal" href="https://docs.python.org/uk/3/reference/simple_stmts.html#nonlocal"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">nonlocal</span></code></a>, що використовується у <a class="reference internal" href="https://docs.python.org/uk/3/glossary.html#term-nested-scope"><span class="xref std std-term">вкладених областях</span></a>. Випадки використання також аналогічні використанню вбудованої функції <a class="reference internal" href="https://docs.python.org/uk/3/library/functions.html#super" title="super"><code class="xref py py-func docutils literal notranslate"><span class="pre">super()</span></code></a>. Посилання на <code class="docutils literal notranslate"><span class="pre">d.parents</span></code> еквівалентне: <code class="docutils literal notranslate"><span class="pre">ChainMap(*d.maps[1:])</span></code>.</p>
</dd></dl>

<p>Зауважте, що порядок ітерацій <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.ChainMap" title="collections.ChainMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChainMap()</span></code></a> визначається скануванням зіставлення від останнього до першого:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 0.8px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">baseline</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'music'</span><span class="p">:</span> <span class="s1">'bach'</span><span class="p">,</span> <span class="s1">'art'</span><span class="p">:</span> <span class="s1">'rembrandt'</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adjustments</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'art'</span><span class="p">:</span> <span class="s1">'van gogh'</span><span class="p">,</span> <span class="s1">'opera'</span><span class="p">:</span> <span class="s1">'carmen'</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">ChainMap</span><span class="p">(</span><span class="n">adjustments</span><span class="p">,</span> <span class="n">baseline</span><span class="p">))</span>
<span class="go">['music', 'art', 'opera']</span>
</pre></div>
</div>
<p>Це дає такий самий порядок, як і серія викликів <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#dict.update" title="dict.update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">dict.update()</span></code></a>, починаючи з останнього відображення:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 0.8px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">combined</span> <span class="o">=</span> <span class="n">baseline</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">combined</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">adjustments</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">combined</span><span class="p">)</span>
<span class="go">['music', 'art', 'opera']</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Змінено в версії 3.9: </span>Додано підтримку операторів <code class="docutils literal notranslate"><span class="pre">|</span></code> і <code class="docutils literal notranslate"><span class="pre">|=</span></code>, указаних у <span class="target" id="index-8"></span><a class="pep reference external" href="https://peps.python.org/pep-0584/"><strong>PEP 584</strong></a>.</p>
</div>
</dd></dl>

<div class="admonition seealso">
<p class="admonition-title">Дивись також</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/enthought/codetools/blob/4.0.0/codetools/contexts/multi_context.py">MultiContext class</a> у пакеті Enthought <a class="reference external" href="https://github.com/enthought/codetools">CodeTools</a> має опції для підтримки запису в будь-яке відображення в ланцюжку.</p></li>
<li><p><a class="reference external" href="https://github.com/django/django/blob/main/django/template/context.py">Клас контексту Django</a> для створення шаблонів — це ланцюжок відображень лише для читання. Він також має функцію надсилання та витягування контекстів, подібних до методу <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.ChainMap.new_child" title="collections.ChainMap.new_child"><code class="xref py py-meth docutils literal notranslate"><span class="pre">new_child()</span></code></a> і властивості <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.ChainMap.parents" title="collections.ChainMap.parents"><code class="xref py py-attr docutils literal notranslate"><span class="pre">parents</span></code></a>.</p></li>
<li><p><a class="reference external" href="https://code.activestate.com/recipes/577434/">Рецепт вкладених контекстів</a> має параметри для контролю того, чи застосовуються записи та інші зміни лише до першого відображення чи до будь-якого відображення в ланцюжку.</p></li>
<li><p><a class="reference external" href="https://code.activestate.com/recipes/305268/">Значно спрощена версія Chainmap тільки для читання</a>.</p></li>
</ul>
</div>
<section id="chainmap-examples-and-recipes">
<h3><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.ChainMap" title="collections.ChainMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChainMap</span></code></a> Приклади та рецепти<a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#chainmap-examples-and-recipes" title="Постійне посилання на цей заголовок">¶</a></h3>
<p>У цьому розділі показано різні підходи до роботи з ланцюжковими картами.</p>
<p>Приклад симуляції внутрішнього ланцюжка пошуку Python:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">builtins</span>
<span class="n">pylookup</span> <span class="o">=</span> <span class="n">ChainMap</span><span class="p">(</span><span class="nb">locals</span><span class="p">(),</span> <span class="nb">globals</span><span class="p">(),</span> <span class="nb">vars</span><span class="p">(</span><span class="n">builtins</span><span class="p">))</span>
</pre></div>
</div>
<p>Приклад надання переваги заданим користувачем аргументам командного рядка над змінними середовища, які, у свою чергу, мають пріоритет над значеннями за замовчуванням:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">argparse</span>

<span class="n">defaults</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'color'</span><span class="p">:</span> <span class="s1">'red'</span><span class="p">,</span> <span class="s1">'user'</span><span class="p">:</span> <span class="s1">'guest'</span><span class="p">}</span>

<span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">()</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">'-u'</span><span class="p">,</span> <span class="s1">'--user'</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">'-c'</span><span class="p">,</span> <span class="s1">'--color'</span><span class="p">)</span>
<span class="n">namespace</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>
<span class="n">command_line_args</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">vars</span><span class="p">(</span><span class="n">namespace</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">}</span>

<span class="n">combined</span> <span class="o">=</span> <span class="n">ChainMap</span><span class="p">(</span><span class="n">command_line_args</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">,</span> <span class="n">defaults</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">combined</span><span class="p">[</span><span class="s1">'color'</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">combined</span><span class="p">[</span><span class="s1">'user'</span><span class="p">])</span>
</pre></div>
</div>
<p>Приклади шаблонів використання класу <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.ChainMap" title="collections.ChainMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChainMap</span></code></a> для імітації вкладених контекстів:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="n">c</span> <span class="o">=</span> <span class="n">ChainMap</span><span class="p">()</span>        <span class="c1"># Create root context</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">new_child</span><span class="p">()</span>     <span class="c1"># Create nested child context</span>
<span class="n">e</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">new_child</span><span class="p">()</span>     <span class="c1"># Child of c, independent from d</span>
<span class="n">e</span><span class="o">.</span><span class="n">maps</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>             <span class="c1"># Current context dictionary -- like Python's locals()</span>
<span class="n">e</span><span class="o">.</span><span class="n">maps</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>            <span class="c1"># Root context -- like Python's globals()</span>
<span class="n">e</span><span class="o">.</span><span class="n">parents</span>             <span class="c1"># Enclosing context chain -- like Python's nonlocals</span>

<span class="n">d</span><span class="p">[</span><span class="s1">'x'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>            <span class="c1"># Set value in current context</span>
<span class="n">d</span><span class="p">[</span><span class="s1">'x'</span><span class="p">]</span>                <span class="c1"># Get first key in the chain of contexts</span>
<span class="k">del</span> <span class="n">d</span><span class="p">[</span><span class="s1">'x'</span><span class="p">]</span>            <span class="c1"># Delete from current context</span>
<span class="nb">list</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>               <span class="c1"># All nested values</span>
<span class="n">k</span> <span class="ow">in</span> <span class="n">d</span>                <span class="c1"># Check all nested values</span>
<span class="nb">len</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>                <span class="c1"># Number of nested values</span>
<span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>             <span class="c1"># All nested items</span>
<span class="nb">dict</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>               <span class="c1"># Flatten into a regular dictionary</span>
</pre></div>
</div>
<p>Клас <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.ChainMap" title="collections.ChainMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChainMap</span></code></a> лише оновлює (записує та видаляє) перше відображення в ланцюжку, тоді як пошук шукатиме повний ланцюжок. Однак, якщо потрібні глибокі записи та видалення, легко створити підклас, який оновлює ключі, знайдені глибше в ланцюжку:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">DeepChainMap</span><span class="p">(</span><span class="n">ChainMap</span><span class="p">):</span>
    <span class="s1">'Variant of ChainMap that allows direct updates to inner scopes'</span>

    <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">mapping</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">maps</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">mapping</span><span class="p">:</span>
                <span class="n">mapping</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
                <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">maps</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="fm">__delitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">mapping</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">maps</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">mapping</span><span class="p">:</span>
                <span class="k">del</span> <span class="n">mapping</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
                <span class="k">return</span>
        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span> <span class="o">=</span> <span class="n">DeepChainMap</span><span class="p">({</span><span class="s1">'zebra'</span><span class="p">:</span> <span class="s1">'black'</span><span class="p">},</span> <span class="p">{</span><span class="s1">'elephant'</span><span class="p">:</span> <span class="s1">'blue'</span><span class="p">},</span> <span class="p">{</span><span class="s1">'lion'</span><span class="p">:</span> <span class="s1">'yellow'</span><span class="p">})</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span><span class="p">[</span><span class="s1">'lion'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'orange'</span>         <span class="c1"># update an existing key two levels down</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span><span class="p">[</span><span class="s1">'snake'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'red'</span>           <span class="c1"># new keys get added to the topmost dict</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">del</span> <span class="n">d</span><span class="p">[</span><span class="s1">'elephant'</span><span class="p">]</span>            <span class="c1"># remove an existing key one level down</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span>                            <span class="c1"># display result</span>
<span class="n">DeepChainMap</span><span class="p">({</span><span class="s1">'zebra'</span><span class="p">:</span> <span class="s1">'black'</span><span class="p">,</span> <span class="s1">'snake'</span><span class="p">:</span> <span class="s1">'red'</span><span class="p">},</span> <span class="p">{},</span> <span class="p">{</span><span class="s1">'lion'</span><span class="p">:</span> <span class="s1">'orange'</span><span class="p">})</span>
</pre></div>
</div>
</section>
</section>
<section id="counter-objects">
<h2><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.Counter" title="collections.Counter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Counter</span></code></a> об’єкти<a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#counter-objects" title="Постійне посилання на цей заголовок">¶</a></h2>
<p>Надається інструмент лічильника для зручного та швидкого підрахунку. Наприклад:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 0.8px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Tally occurrences of words in a list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cnt</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">'red'</span><span class="p">,</span> <span class="s1">'blue'</span><span class="p">,</span> <span class="s1">'red'</span><span class="p">,</span> <span class="s1">'green'</span><span class="p">,</span> <span class="s1">'blue'</span><span class="p">,</span> <span class="s1">'blue'</span><span class="p">]:</span>
<span class="gp">... </span>    <span class="n">cnt</span><span class="p">[</span><span class="n">word</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cnt</span>
<span class="go">Counter({'blue': 3, 'red': 2, 'green': 1})</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Find the ten most common words in Hamlet</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">re</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">words</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">'\w+'</span><span class="p">,</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'hamlet.txt'</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Counter</span><span class="p">(</span><span class="n">words</span><span class="p">)</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="go">[('the', 1143), ('and', 966), ('to', 762), ('of', 669), ('i', 631),</span>
<span class="go"> ('you', 554),  ('a', 546), ('my', 514), ('hamlet', 471), ('in', 451)]</span>
</pre></div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="collections.Counter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">collections.</span></span><span class="sig-name descname"><span class="pre">Counter</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">iterable-or-mapping</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.Counter" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>A <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.Counter" title="collections.Counter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Counter</span></code></a> is a <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> subclass for counting <a class="reference internal" href="https://docs.python.org/uk/3/glossary.html#term-hashable"><span class="xref std std-term">hashable</span></a> objects.
It is a collection where elements are stored as dictionary keys
and their counts are stored as dictionary values.  Counts are allowed to be
any integer value including zero or negative counts.  The <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.Counter" title="collections.Counter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Counter</span></code></a>
class is similar to bags or multisets in other languages.</p>
<p>Елементи підраховуються з <em>iterable</em> або ініціалізуються з іншого <em>mapping</em> (або лічильника):</p>
<div class="doctest highlight-default notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 0.8px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">()</span>                           <span class="c1"># a new, empty counter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="s1">'gallahad'</span><span class="p">)</span>                 <span class="c1"># a new counter from an iterable</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">({</span><span class="s1">'red'</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">'blue'</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>      <span class="c1"># a new counter from a mapping</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">cats</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">dogs</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>             <span class="c1"># a new counter from keyword args</span>
</pre></div>
</div>
<p>Об’єкти лічильників мають інтерфейс словника, за винятком того, що вони повертають нульову кількість для відсутніх елементів замість того, щоб викликати <a class="reference internal" href="https://docs.python.org/uk/3/library/exceptions.html#KeyError" title="KeyError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">KeyError</span></code></a>:</p>
<div class="doctest highlight-default notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 0.8px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">([</span><span class="s1">'eggs'</span><span class="p">,</span> <span class="s1">'ham'</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="p">[</span><span class="s1">'bacon'</span><span class="p">]</span>                              <span class="c1"># count of a missing element is zero</span>
<span class="go">0</span>
</pre></div>
</div>
<p>Встановлення лічильника на нуль не видаляє елемент із лічильника. Використовуйте <code class="docutils literal notranslate"><span class="pre">del</span></code>, щоб видалити його повністю:</p>
<div class="doctest highlight-default notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 0.8px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="p">[</span><span class="s1">'sausage'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>                        <span class="c1"># counter entry with a zero count</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">c</span><span class="p">[</span><span class="s1">'sausage'</span><span class="p">]</span>                        <span class="c1"># del actually removes the entry</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Нове в версії 3.1.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Змінено в версії 3.7: </span>Як підклас <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>, <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.Counter" title="collections.Counter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Counter</span></code></a> успадкував можливість запам’ятовувати порядок вставки. Математичні операції над об’єктами <em>Counter</em> також зберігають порядок. Результати впорядковуються відповідно до того, коли елемент вперше зустрічається в лівому операнді, а потім у порядку зустрічі в правому операнді.</p>
</div>
<p>Об’єкти лічильників підтримують додаткові методи, окрім тих, що доступні для всіх словників:</p>
<dl class="py method">
<dt class="sig sig-object py" id="collections.Counter.elements">
<span class="sig-name descname"><span class="pre">elements</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.Counter.elements" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Повертає ітератор над елементами, повторюючи кожен стільки разів, скільки його кількість. Елементи повертаються в тому порядку, в якому вони зустрічаються першими. Якщо кількість елемента менше одиниці, <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.Counter.elements" title="collections.Counter.elements"><code class="xref py py-meth docutils literal notranslate"><span class="pre">elements()</span></code></a> проігнорує його.</p>
<div class="doctest highlight-default notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 0.8px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">d</span><span class="o">=-</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">elements</span><span class="p">())</span>
<span class="go">['a', 'a', 'a', 'a', 'b', 'b']</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="collections.Counter.most_common">
<span class="sig-name descname"><span class="pre">most_common</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.Counter.most_common" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Повертає список з <em>n</em> найпоширеніших елементів і їх підрахунок від найбільш поширених до найменших. Якщо <em>n</em> пропущено або <code class="docutils literal notranslate"><span class="pre">None</span></code>, <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.Counter.most_common" title="collections.Counter.most_common"><code class="xref py py-meth docutils literal notranslate"><span class="pre">most_common()</span></code></a> повертає <em>всі</em> елементи в лічильнику. Елементи з рівною кількістю впорядковуються в порядку, коли вони зустрічаються першими:</p>
<div class="doctest highlight-default notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 0.8px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Counter</span><span class="p">(</span><span class="s1">'abracadabra'</span><span class="p">)</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">[('a', 5), ('b', 2), ('r', 2)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="collections.Counter.subtract">
<span class="sig-name descname"><span class="pre">subtract</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">iterable-or-mapping</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.Counter.subtract" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Елементи віднімаються з <em>iterable</em> або з іншого <em>mapping</em> (або лічильника). Подібно до <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#dict.update" title="dict.update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">dict.update()</span></code></a>, але кількість віднімає, а не замінює. І входи, і виходи можуть бути нульовими або негативними.</p>
<div class="doctest highlight-default notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 0.8px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">d</span><span class="o">=-</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">subtract</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span>
<span class="go">Counter({'a': 3, 'b': 0, 'c': -3, 'd': -6})</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Нове в версії 3.2.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="collections.Counter.total">
<span class="sig-name descname"><span class="pre">total</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.Counter.total" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Обчисліть суму підрахунків.</p>
<div class="doctest highlight-default notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 0.8px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">total</span><span class="p">()</span>
<span class="go">15</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Нове в версії 3.10.</span></p>
</div>
</dd></dl>

<p>Звичайні методи словника доступні для об’єктів <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.Counter" title="collections.Counter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Counter</span></code></a>, за винятком двох, які працюють по-різному для лічильників.</p>
<dl class="py method">
<dt class="sig sig-object py" id="collections.Counter.fromkeys">
<span class="sig-name descname"><span class="pre">fromkeys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.Counter.fromkeys" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Цей метод класу не реалізований для об’єктів <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.Counter" title="collections.Counter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Counter</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="collections.Counter.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">iterable-or-mapping</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.Counter.update" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Елементи підраховуються від <em>iterable</em> або add-in від іншого <em>mapping</em> (або лічильника). Як <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#dict.update" title="dict.update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">dict.update()</span></code></a>, але додає лічильники замість їх заміни. Крім того, очікується, що <em>iterable</em> буде послідовністю елементів, а не послідовністю пар <code class="docutils literal notranslate"><span class="pre">(ключ,</span> <span class="pre">значення)</span></code>.</p>
</dd></dl>

</dd></dl>

<p>Лічильники підтримують розширені оператори порівняння для зв’язків рівності, підмножини та надмножини: <code class="docutils literal notranslate"><span class="pre">==</span></code>, <code class="docutils literal notranslate"><span class="pre">!=</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code>. Усі ці тести розглядають відсутні елементи як такі, що мають нульову кількість, тому <code class="docutils literal notranslate"><span class="pre">Counter(a=1)</span> <span class="pre">==</span> <span class="pre">Counter(a=1,</span> <span class="pre">b=0)</span></code> повертає true.</p>
<div class="versionadded">
<p><span class="versionmodified added">Нове в версії 3.10: </span>Додано розширені операції порівняння.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Змінено в версії 3.10: </span>У тестах на рівність відсутні елементи розглядаються як такі, що мають нульову кількість. Раніше <code class="docutils literal notranslate"><span class="pre">Counter(a=3)</span></code> і <code class="docutils literal notranslate"><span class="pre">Counter(a=3,</span> <span class="pre">b=0)</span></code> вважалися різними.</p>
</div>
<p>Загальні шаблони для роботи з об’єктами <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.Counter" title="collections.Counter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Counter</span></code></a>:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="n">c</span><span class="o">.</span><span class="n">total</span><span class="p">()</span>                       <span class="c1"># total of all counts</span>
<span class="n">c</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>                       <span class="c1"># reset all counts</span>
<span class="nb">list</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>                         <span class="c1"># list unique elements</span>
<span class="nb">set</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>                          <span class="c1"># convert to a set</span>
<span class="nb">dict</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>                         <span class="c1"># convert to a regular dictionary</span>
<span class="n">c</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>                       <span class="c1"># convert to a list of (elem, cnt) pairs</span>
<span class="n">Counter</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">list_of_pairs</span><span class="p">))</span>    <span class="c1"># convert from a list of (elem, cnt) pairs</span>
<span class="n">c</span><span class="o">.</span><span class="n">most_common</span><span class="p">()[:</span><span class="o">-</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>       <span class="c1"># n least common elements</span>
<span class="o">+</span><span class="n">c</span>                              <span class="c1"># remove zero and negative counts</span>
</pre></div>
</div>
<p>Передбачено кілька математичних операцій для об’єднання об’єктів <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.Counter" title="collections.Counter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Counter</span></code></a> для створення мультимножин (лічильників, які мають кількість, більшу за нуль). Додавання та віднімання поєднують лічильники шляхом додавання або віднімання підрахунків відповідних елементів. Перетин і об’єднання повертають мінімальне та максимальне значення відповідних підрахунків. Рівність і включення порівнюють відповідні підрахунки. Кожна операція може приймати вхідні дані зі знаком підрахунків, але вихід виключатиме результати з нульовими чи меншими значеннями.</p>
<div class="highlight-pycon3 notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 0.8px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">+</span> <span class="n">d</span>                       <span class="c1"># add two counters together:  c[x] + d[x]</span>
<span class="go">Counter({'a': 4, 'b': 3})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">-</span> <span class="n">d</span>                       <span class="c1"># subtract (keeping only positive counts)</span>
<span class="go">Counter({'a': 2})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">&amp;</span> <span class="n">d</span>                       <span class="c1"># intersection:  min(c[x], d[x])</span>
<span class="go">Counter({'a': 1, 'b': 1})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">|</span> <span class="n">d</span>                       <span class="c1"># union:  max(c[x], d[x])</span>
<span class="go">Counter({'a': 3, 'b': 2})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">==</span> <span class="n">d</span>                      <span class="c1"># equality:  c[x] == d[x]</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">&lt;=</span> <span class="n">d</span>                      <span class="c1"># inclusion:  c[x] &lt;= d[x]</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Унарне додавання та віднімання — це ярлики для додавання порожнього лічильника або віднімання з порожнього лічильника.</p>
<div class="doctest highlight-default notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 0.8px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">b</span><span class="o">=-</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">+</span><span class="n">c</span>
<span class="go">Counter({'a': 2})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">-</span><span class="n">c</span>
<span class="go">Counter({'b': 4})</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Нове в версії 3.3: </span>Додано підтримку унарних операцій плюс, унарний мінус і мультимножинних операцій на місці.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Примітка</p>
<p>Лічильники були в основному розроблені для роботи з позитивними цілими числами для представлення поточних підрахунків; однак було вжито заходів для того, щоб без потреби не виключити випадки використання, які потребують інших типів або від’ємних значень. Щоб допомогти з цими випадками використання, у цьому розділі описані мінімальні обмеження діапазону та типу.</p>
<ul class="simple">
<li><p>Сам клас <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.Counter" title="collections.Counter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Counter</span></code></a> є підкласом словника без обмежень щодо його ключів і значень. Значення мають бути числами, що представляють кількість, але ви <em>можете</em> зберігати будь-що в полі значення.</p></li>
<li><p>Метод <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.Counter.most_common" title="collections.Counter.most_common"><code class="xref py py-meth docutils literal notranslate"><span class="pre">most_common()</span></code></a> вимагає лише того, щоб значення можна було впорядкувати.</p></li>
<li><p>Для операцій на місці, таких як <code class="docutils literal notranslate"><span class="pre">c[key]</span> <span class="pre">+=</span> <span class="pre">1</span></code>, тип значення потребує лише підтримки додавання та віднімання. Отже, дроби, числа з плаваючою точкою та десяткові дроби працюватимуть, а від’ємні значення підтримуються. Те ж саме вірно для <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.Counter.update" title="collections.Counter.update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">update()</span></code></a> і <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.Counter.subtract" title="collections.Counter.subtract"><code class="xref py py-meth docutils literal notranslate"><span class="pre">subtract()</span></code></a>, які дозволяють від’ємні та нульові значення як для входів, так і для виходів.</p></li>
<li><p>Мультимножинні методи призначені лише для випадків використання з позитивними значеннями. Вхідні дані можуть бути від’ємними або нульовими, але створюються лише виходи з позитивними значеннями. Немає обмежень щодо типів, але тип значення має підтримувати додавання, віднімання та порівняння.</p></li>
<li><p>Метод <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.Counter.elements" title="collections.Counter.elements"><code class="xref py py-meth docutils literal notranslate"><span class="pre">elements()</span></code></a> вимагає підрахунку цілих чисел. Він ігнорує нульові та негативні значення.</p></li>
</ul>
</div>
<div class="admonition seealso">
<p class="admonition-title">Дивись також</p>
<ul>
<li><p><a class="reference external" href="https://www.gnu.org/software/smalltalk/manual-base/html_node/Bag.html">Клас сумки</a> у Smalltalk.</p></li>
<li><p>Запис у Вікіпедії для <a class="reference external" href="https://en.wikipedia.org/wiki/Multiset">Мультимножини</a>.</p></li>
<li><p><a class="reference external" href="http://www.java2s.com/Tutorial/Cpp/0380__set-multiset/Catalog0380__set-multiset.htm">C++ multisets</a> посібник із прикладами.</p></li>
<li><p>Про математичні операції над мультимножинами та випадки їх використання див. <em>Knuth, Donald. Мистецтво комп’ютерного програмування, том II, розділ 4.6.3, вправа 19</em>.</p></li>
<li><p>Щоб перерахувати всі різні мультимножини заданого розміру над заданим набором елементів, перегляньте <a class="reference internal" href="https://docs.python.org/uk/3/library/itertools.html#itertools.combinations_with_replacement" title="itertools.combinations_with_replacement"><code class="xref py py-func docutils literal notranslate"><span class="pre">itertools.combinations_with_replacement()</span></code></a>:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="nb">map</span><span class="p">(</span><span class="n">Counter</span><span class="p">,</span> <span class="n">combinations_with_replacement</span><span class="p">(</span><span class="s1">'ABC'</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span> <span class="c1"># --&gt; AA AB AC BB BC CC</span>
</pre></div>
</div>
</li>
</ul>
</div>
</section>
<section id="deque-objects">
<h2><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.deque" title="collections.deque"><code class="xref py py-class docutils literal notranslate"><span class="pre">deque</span></code></a> об’єкти<a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#deque-objects" title="Постійне посилання на цей заголовок">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="collections.deque">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">collections.</span></span><span class="sig-name descname"><span class="pre">deque</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">iterable</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">maxlen</span></span></em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.deque" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Повертає новий об’єкт deque, ініціалізований зліва направо (за допомогою <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.deque.append" title="collections.deque.append"><code class="xref py py-meth docutils literal notranslate"><span class="pre">append()</span></code></a>) з даними з <em>iterable</em>. Якщо <em>iterable</em> не вказано, нова двочерга порожня.</p>
<p>Deques — це узагальнення стеків і черг (назва вимовляється як «колода» і є скороченням від «черга з двома кінцями»). Deques підтримують потокобезпечне, ефективне додавання та видалення з пам’яті з будь-якої сторони deque з приблизно однаковою продуктивністю O(1) у будь-якому напрямку.</p>
<p>Хоча об’єкти <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#list" title="list"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> підтримують подібні операції, вони оптимізовані для швидких операцій із фіксованою довжиною та несуть O(n) витрат на переміщення пам’яті для <code class="docutils literal notranslate"><span class="pre">pop(0)</span></code> та <code class="docutils literal notranslate"><span class="pre">insert(0,</span> <span class="pre">v)</span></code> операції, які змінюють як розмір, так і положення основного представлення даних.</p>
<p>Якщо <em>maxlen</em> не вказано або має значення <code class="docutils literal notranslate"><span class="pre">None</span></code>, дві версії можуть зростати до довільної довжини. В іншому випадку двочерга обмежена до вказаної максимальної довжини. Коли двочерга обмеженої довжини заповнюється, коли додаються нові елементи, відповідна кількість елементів відкидається з протилежного кінця. Обмежена довжина двох рядків забезпечує функціональність, подібну до фільтра <code class="docutils literal notranslate"><span class="pre">tail</span></code> в Unix. Вони також корисні для відстеження транзакцій та інших наборів даних, де цікаві лише останні дії.</p>
<p>Об’єкти Deque підтримують такі методи:</p>
<dl class="py method">
<dt class="sig sig-object py" id="collections.deque.append">
<span class="sig-name descname"><span class="pre">append</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.deque.append" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Додайте <em>x</em> до правої сторони дека.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="collections.deque.appendleft">
<span class="sig-name descname"><span class="pre">appendleft</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.deque.appendleft" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Додайте <em>x</em> до лівої сторони дека.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="collections.deque.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.deque.clear" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Видаліть усі елементи з двоканального ряду, залишивши його довжиною 0.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="collections.deque.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.deque.copy" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Створіть поверхневу копію deque.</p>
<div class="versionadded">
<p><span class="versionmodified added">Нове в версії 3.5.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="collections.deque.count">
<span class="sig-name descname"><span class="pre">count</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.deque.count" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Підрахуйте кількість елементів deque, що дорівнює <em>x</em>.</p>
<div class="versionadded">
<p><span class="versionmodified added">Нове в версії 3.2.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="collections.deque.extend">
<span class="sig-name descname"><span class="pre">extend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.deque.extend" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Розширте праву частину двоканального ряду, додавши елементи з ітерованого аргументу.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="collections.deque.extendleft">
<span class="sig-name descname"><span class="pre">extendleft</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.deque.extendleft" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Розширте ліву сторону двостороннього коду, додавши елементи з <em>iterable</em>. Зауважте, що серія лівих додань призводить до зміни порядку елементів у повторюваному аргументі.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="collections.deque.index">
<span class="sig-name descname"><span class="pre">index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span></em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.deque.index" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Повертає позицію <em>x</em> у черзі (за індексом <em>start</em> і перед індексом <em>stop</em>). Повертає перший збіг або викликає <a class="reference internal" href="https://docs.python.org/uk/3/library/exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a>, якщо не знайдено.</p>
<div class="versionadded">
<p><span class="versionmodified added">Нове в версії 3.5.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="collections.deque.insert">
<span class="sig-name descname"><span class="pre">insert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.deque.insert" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Вставте <em>x</em> у рядок у позицію <em>i</em>.</p>
<p>Якщо вставка призведе до того, що обмежена двочерга виросте за межі <em>maxlen</em>, виникає <a class="reference internal" href="https://docs.python.org/uk/3/library/exceptions.html#IndexError" title="IndexError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">IndexError</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified added">Нове в версії 3.5.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="collections.deque.pop">
<span class="sig-name descname"><span class="pre">pop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.deque.pop" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Видаліть і поверніть елемент з правого боку двоканальної таблиці. Якщо немає елементів, викликає <a class="reference internal" href="https://docs.python.org/uk/3/library/exceptions.html#IndexError" title="IndexError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">IndexError</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="collections.deque.popleft">
<span class="sig-name descname"><span class="pre">popleft</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.deque.popleft" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Видаліть і поверніть елемент з лівої сторони двосторонньої версії. Якщо немає елементів, викликає <a class="reference internal" href="https://docs.python.org/uk/3/library/exceptions.html#IndexError" title="IndexError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">IndexError</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="collections.deque.remove">
<span class="sig-name descname"><span class="pre">remove</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.deque.remove" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Видаліть перше входження <em>значення</em>. Якщо не знайдено, викликає <a class="reference internal" href="https://docs.python.org/uk/3/library/exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="collections.deque.reverse">
<span class="sig-name descname"><span class="pre">reverse</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.deque.reverse" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Перевернути елементи дек-версії на місці, а потім повернути <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified added">Нове в версії 3.2.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="collections.deque.rotate">
<span class="sig-name descname"><span class="pre">rotate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.deque.rotate" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Поверніть двічі <em>n</em> кроків праворуч. Якщо <em>n</em> від’ємне, поверніть ліворуч.</p>
<p>Якщо двочерга не порожня, поворот на один крок праворуч еквівалентний d.appendleft(d.pop()) , а поворот на один крок ліворуч еквівалентний d.append(d.popleft ())``.</p>
</dd></dl>

<p>Об’єкти Deque також надають один атрибут лише для читання:</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="collections.deque.maxlen">
<span class="sig-name descname"><span class="pre">maxlen</span></span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.deque.maxlen" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Максимальний розмір двочергового рядка або <code class="docutils literal notranslate"><span class="pre">None</span></code>, якщо необмежений.</p>
<div class="versionadded">
<p><span class="versionmodified added">Нове в версії 3.1.</span></p>
</div>
</dd></dl>

</dd></dl>

<p>На додаток до вищезазначеного, deques підтримують ітерацію, травлення, <code class="docutils literal notranslate"><span class="pre">len(d)</span></code>, <code class="docutils literal notranslate"><span class="pre">reversed(d)</span></code>, <code class="docutils literal notranslate"><span class="pre">copy.copy(d)</span></code>, <code class="docutils literal notranslate"><span class="pre">copy.deepcopy(d)</span></code>, тестування членства за допомогою оператора <a class="reference internal" href="https://docs.python.org/uk/3/reference/expressions.html#in"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">in</span></code></a> і посилань на підрядковий індекс, наприклад <code class="docutils literal notranslate"><span class="pre">d[0]</span></code> для доступу до першого елемента. Індексований доступ становить O(1) на обох кінцях, але сповільнюється до O(n) посередині. Для швидкого довільного доступу використовуйте натомість списки.</p>
<p>Починаючи з версії 3.5, deques підтримують <code class="docutils literal notranslate"><span class="pre">__add__()</span></code>, <code class="docutils literal notranslate"><span class="pre">__mul__()</span></code> і <code class="docutils literal notranslate"><span class="pre">__imul__()</span></code>.</p>
<p>приклад:</p>
<div class="highlight-pycon3 notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 0.8px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">deque</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">deque</span><span class="p">(</span><span class="s1">'ghi'</span><span class="p">)</span>                 <span class="c1"># make a new deque with three items</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>                   <span class="c1"># iterate over the deque's elements</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">elem</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>
<span class="go">G</span>
<span class="go">H</span>
<span class="go">I</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">'j'</span><span class="p">)</span>                    <span class="c1"># add a new entry to the right side</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">appendleft</span><span class="p">(</span><span class="s1">'f'</span><span class="p">)</span>                <span class="c1"># add a new entry to the left side</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span>                                <span class="c1"># show the representation of the deque</span>
<span class="go">deque(['f', 'g', 'h', 'i', 'j'])</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>                          <span class="c1"># return and remove the rightmost item</span>
<span class="go">'j'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">popleft</span><span class="p">()</span>                      <span class="c1"># return and remove the leftmost item</span>
<span class="go">'f'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>                          <span class="c1"># list the contents of the deque</span>
<span class="go">['g', 'h', 'i']</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>                             <span class="c1"># peek at leftmost item</span>
<span class="go">'g'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>                            <span class="c1"># peek at rightmost item</span>
<span class="go">'i'</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="n">d</span><span class="p">))</span>                <span class="c1"># list the contents of a deque in reverse</span>
<span class="go">['i', 'h', 'g']</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">'h'</span> <span class="ow">in</span> <span class="n">d</span>                         <span class="c1"># search the deque</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="s1">'jkl'</span><span class="p">)</span>                  <span class="c1"># add multiple elements at once</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span>
<span class="go">deque(['g', 'h', 'i', 'j', 'k', 'l'])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>                      <span class="c1"># right rotation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span>
<span class="go">deque(['l', 'g', 'h', 'i', 'j', 'k'])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>                     <span class="c1"># left rotation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span>
<span class="go">deque(['g', 'h', 'i', 'j', 'k', 'l'])</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">deque</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="n">d</span><span class="p">))</span>               <span class="c1"># make a new deque in reverse order</span>
<span class="go">deque(['l', 'k', 'j', 'i', 'h', 'g'])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>                        <span class="c1"># empty the deque</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>                          <span class="c1"># cannot pop from an empty deque</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="n">File</span> <span class="s2">"&lt;pyshell#6&gt;"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">-</span><span class="n">toplevel</span><span class="o">-</span>
        <span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="gr">IndexError</span><span>: </span><span class="n">pop from an empty deque</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">extendleft</span><span class="p">(</span><span class="s1">'abc'</span><span class="p">)</span>              <span class="c1"># extendleft() reverses the input order</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span>
<span class="go">deque(['c', 'b', 'a'])</span>
</pre></div>
</div>
<section id="deque-recipes">
<h3><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.deque" title="collections.deque"><code class="xref py py-class docutils literal notranslate"><span class="pre">deque</span></code></a> Рецепти<a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#deque-recipes" title="Постійне посилання на цей заголовок">¶</a></h3>
<p>У цьому розділі показано різні підходи до роботи з deque.</p>
<p>Обмежена довжина двостороннього ряду забезпечує функціональність, подібну до фільтра <code class="docutils literal notranslate"><span class="pre">tail</span></code> в Unix:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">tail</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
    <span class="s1">'Return the last n lines of a file'</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">deque</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
<p>Інший підхід до використання двох блоків полягає в підтримці послідовності нещодавно доданих елементів шляхом додавання праворуч і висування ліворуч:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">moving_average</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
    <span class="c1"># moving_average([40, 30, 50, 46, 39, 44]) --&gt; 40.0 42.0 45.0 43.0</span>
    <span class="c1"># https://en.wikipedia.org/wiki/Moving_average</span>
    <span class="n">it</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">iterable</span><span class="p">)</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">deque</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">islice</span><span class="p">(</span><span class="n">it</span><span class="p">,</span> <span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
    <span class="n">d</span><span class="o">.</span><span class="n">appendleft</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">s</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">it</span><span class="p">:</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="n">elem</span> <span class="o">-</span> <span class="n">d</span><span class="o">.</span><span class="n">popleft</span><span class="p">()</span>
        <span class="n">d</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
        <span class="k">yield</span> <span class="n">s</span> <span class="o">/</span> <span class="n">n</span>
</pre></div>
</div>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Round-robin_scheduling">Циклічний планувальник</a> може бути реалізований за допомогою ітераторів введення, що зберігаються в <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.deque" title="collections.deque"><code class="xref py py-class docutils literal notranslate"><span class="pre">deque</span></code></a>. Значення виводяться з активного ітератора в нульовій позиції. Якщо цей ітератор вичерпано, його можна видалити за допомогою <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.deque.popleft" title="collections.deque.popleft"><code class="xref py py-meth docutils literal notranslate"><span class="pre">popleft()</span></code></a>; інакше його можна повернути до кінця за допомогою методу <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.deque.rotate" title="collections.deque.rotate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rotate()</span></code></a>:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">roundrobin</span><span class="p">(</span><span class="o">*</span><span class="n">iterables</span><span class="p">):</span>
    <span class="s2">"roundrobin('ABC', 'D', 'EF') --&gt; A D E B F C"</span>
    <span class="n">iterators</span> <span class="o">=</span> <span class="n">deque</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">iter</span><span class="p">,</span> <span class="n">iterables</span><span class="p">))</span>
    <span class="k">while</span> <span class="n">iterators</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
                <span class="k">yield</span> <span class="nb">next</span><span class="p">(</span><span class="n">iterators</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                <span class="n">iterators</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">StopIteration</span><span class="p">:</span>
            <span class="c1"># Remove an exhausted iterator.</span>
            <span class="n">iterators</span><span class="o">.</span><span class="n">popleft</span><span class="p">()</span>
</pre></div>
</div>
<p>Метод <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.deque.rotate" title="collections.deque.rotate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rotate()</span></code></a> забезпечує спосіб реалізації <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.deque" title="collections.deque"><code class="xref py py-class docutils literal notranslate"><span class="pre">deque</span></code></a> нарізки та видалення. Наприклад, чиста реалізація <code class="docutils literal notranslate"><span class="pre">del</span> <span class="pre">d[n]</span></code> на Python покладається на метод <code class="docutils literal notranslate"><span class="pre">rotate()</span></code> для позиціонування елементів, які потрібно відкрити:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">delete_nth</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
    <span class="n">d</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="o">-</span><span class="n">n</span><span class="p">)</span>
    <span class="n">d</span><span class="o">.</span><span class="n">popleft</span><span class="p">()</span>
    <span class="n">d</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
<p>Щоб реалізувати нарізку <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.deque" title="collections.deque"><code class="xref py py-class docutils literal notranslate"><span class="pre">deque</span></code></a>, скористайтеся подібним підходом, застосовуючи <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.deque.rotate" title="collections.deque.rotate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rotate()</span></code></a>, щоб перемістити цільовий елемент у ліву сторону від deque. Видаліть старі записи за допомогою <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.deque.popleft" title="collections.deque.popleft"><code class="xref py py-meth docutils literal notranslate"><span class="pre">popleft()</span></code></a>, додайте нові за допомогою <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.deque.extend" title="collections.deque.extend"><code class="xref py py-meth docutils literal notranslate"><span class="pre">extend()</span></code></a>, а потім змініть чергування. З незначними варіаціями цього підходу легко реалізувати маніпуляції стеком у стилі Forth, такі як <code class="docutils literal notranslate"><span class="pre">dup</span></code>, <code class="docutils literal notranslate"><span class="pre">drop</span></code>, <code class="docutils literal notranslate"><span class="pre">swap</span></code>, <code class="docutils literal notranslate"><span class="pre">over</span></code>, <code class="docutils literal notranslate"><span class="pre">pick</span></code>, <code class="docutils literal notranslate"><span class="pre">rot</span></code> і <code class="docutils literal notranslate"><span class="pre">roll</span></code>.</p>
</section>
</section>
<section id="defaultdict-objects">
<h2><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.defaultdict" title="collections.defaultdict"><code class="xref py py-class docutils literal notranslate"><span class="pre">defaultdict</span></code></a> об’єкти<a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#defaultdict-objects" title="Постійне посилання на цей заголовок">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="collections.defaultdict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">collections.</span></span><span class="sig-name descname"><span class="pre">defaultdict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">default_factory=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">/</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">...</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.defaultdict" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Повернути новий об’єкт, схожий на словник. <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.defaultdict" title="collections.defaultdict"><code class="xref py py-class docutils literal notranslate"><span class="pre">defaultdict</span></code></a> є підкласом вбудованого класу <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>. Він замінює один метод і додає одну змінну екземпляра, доступну для запису. Інші функції такі ж, як і для класу <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>, і тут не описані.</p>
<p>Перший аргумент надає початкове значення для атрибута <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.defaultdict.default_factory" title="collections.defaultdict.default_factory"><code class="xref py py-attr docutils literal notranslate"><span class="pre">default_factory</span></code></a>; за замовчуванням <code class="docutils literal notranslate"><span class="pre">None</span></code>. Усі решта аргументів обробляються так само, як якщо б вони були передані конструктору <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>, включаючи аргументи ключових слів.</p>
<p>Об’єкти <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.defaultdict" title="collections.defaultdict"><code class="xref py py-class docutils literal notranslate"><span class="pre">defaultdict</span></code></a> підтримують наступний метод на додаток до стандартних операцій <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>:</p>
<dl class="py method">
<dt class="sig sig-object py" id="collections.defaultdict.__missing__">
<span class="sig-name descname"><span class="pre">__missing__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.defaultdict.__missing__" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Якщо атрибут <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.defaultdict.default_factory" title="collections.defaultdict.default_factory"><code class="xref py py-attr docutils literal notranslate"><span class="pre">default_factory</span></code></a> має значення <code class="docutils literal notranslate"><span class="pre">None</span></code>, це викликає виключення <a class="reference internal" href="https://docs.python.org/uk/3/library/exceptions.html#KeyError" title="KeyError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">KeyError</span></code></a> з <em>key</em> як аргументом.</p>
<p>Якщо <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.defaultdict.default_factory" title="collections.defaultdict.default_factory"><code class="xref py py-attr docutils literal notranslate"><span class="pre">default_factory</span></code></a> не є <code class="docutils literal notranslate"><span class="pre">None</span></code>, він викликається без аргументів, щоб надати значення за замовчуванням для даного <em>ключа</em>, це значення вставляється в словник для <em>ключа</em> та повертається.</p>
<p>Якщо виклик <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.defaultdict.default_factory" title="collections.defaultdict.default_factory"><code class="xref py py-attr docutils literal notranslate"><span class="pre">default_factory</span></code></a> викликає виняток, цей виняток поширюється без змін.</p>
<p>Цей метод викликається методом <code class="xref py py-meth docutils literal notranslate"><span class="pre">__getitem__()</span></code> класу <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>, коли запитуваний ключ не знайдено; все, що він повертає або викликає, потім повертається або піднімається <code class="xref py py-meth docutils literal notranslate"><span class="pre">__getitem__()</span></code>.</p>
<p>Зауважте, що <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.defaultdict.__missing__" title="collections.defaultdict.__missing__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__missing__()</span></code></a> <em>не</em> викликається для будь-яких операцій, крім <code class="xref py py-meth docutils literal notranslate"><span class="pre">__getitem__()</span></code>. Це означає, що <code class="xref py py-meth docutils literal notranslate"><span class="pre">get()</span></code>, як і звичайні словники, повертатиме <code class="docutils literal notranslate"><span class="pre">None</span></code> за замовчуванням замість використання <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.defaultdict.default_factory" title="collections.defaultdict.default_factory"><code class="xref py py-attr docutils literal notranslate"><span class="pre">default_factory</span></code></a>.</p>
</dd></dl>

<p>Об’єкти <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.defaultdict" title="collections.defaultdict"><code class="xref py py-class docutils literal notranslate"><span class="pre">defaultdict</span></code></a> підтримують таку змінну екземпляра:</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="collections.defaultdict.default_factory">
<span class="sig-name descname"><span class="pre">default_factory</span></span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.defaultdict.default_factory" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Цей атрибут використовується методом <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.defaultdict.__missing__" title="collections.defaultdict.__missing__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__missing__()</span></code></a>; він ініціалізується від першого аргументу до конструктора, якщо він присутній, або до <code class="docutils literal notranslate"><span class="pre">None</span></code>, якщо його немає.</p>
</dd></dl>

<div class="versionchanged">
<p><span class="versionmodified changed">Змінено в версії 3.9: </span>Додано оператори злиття (<code class="docutils literal notranslate"><span class="pre">|</span></code>) і оновлення (<code class="docutils literal notranslate"><span class="pre">|=</span></code>), указані в <span class="target" id="index-9"></span><a class="pep reference external" href="https://peps.python.org/pep-0584/"><strong>PEP 584</strong></a>.</p>
</div>
</dd></dl>

<section id="defaultdict-examples">
<h3><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.defaultdict" title="collections.defaultdict"><code class="xref py py-class docutils literal notranslate"><span class="pre">defaultdict</span></code></a> Приклади<a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#defaultdict-examples" title="Постійне посилання на цей заголовок">¶</a></h3>
<p>Використовуючи <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#list" title="list"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> як <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.defaultdict.default_factory" title="collections.defaultdict.default_factory"><code class="xref py py-attr docutils literal notranslate"><span class="pre">default_factory</span></code></a>, можна легко згрупувати послідовність пар ключ-значення в словник списків:</p>
<div class="doctest highlight-default notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 0.8px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">'yellow'</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">'blue'</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="s1">'yellow'</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="s1">'blue'</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="s1">'red'</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">d</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
<span class="go">[('blue', [2, 4]), ('red', [1]), ('yellow', [1, 3])]</span>
</pre></div>
</div>
<p>Коли кожен ключ зустрічається вперше, його ще немає у відображенні; тому запис створюється автоматично за допомогою функції <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.defaultdict.default_factory" title="collections.defaultdict.default_factory"><code class="xref py py-attr docutils literal notranslate"><span class="pre">default_factory</span></code></a>, яка повертає порожній <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#list" title="list"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>. Потім операція <code class="xref py py-meth docutils literal notranslate"><span class="pre">list.append()</span></code> додає значення до нового списку. Коли ключі зустрічаються знову, пошук триває нормально (повертається список для цього ключа), а операція <code class="xref py py-meth docutils literal notranslate"><span class="pre">list.append()</span></code> додає інше значення до списку. Ця техніка простіша та швидша, ніж еквівалентна техніка з використанням <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#dict.setdefault" title="dict.setdefault"><code class="xref py py-meth docutils literal notranslate"><span class="pre">dict.setdefault()</span></code></a>:</p>
<div class="doctest highlight-default notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 0.8px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">d</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="p">[])</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
<span class="go">[('blue', [2, 4]), ('red', [1]), ('yellow', [1, 3])]</span>
</pre></div>
</div>
<p>Встановлення <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.defaultdict.default_factory" title="collections.defaultdict.default_factory"><code class="xref py py-attr docutils literal notranslate"><span class="pre">default_factory</span></code></a> на <a class="reference internal" href="https://docs.python.org/uk/3/library/functions.html#int" title="int"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> робить <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.defaultdict" title="collections.defaultdict"><code class="xref py py-class docutils literal notranslate"><span class="pre">defaultdict</span></code></a> корисним для підрахунку (як сумка або мультинабір в інших мовах):</p>
<div class="doctest highlight-default notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 0.8px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="s1">'mississippi'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">d</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
<span class="go">[('i', 4), ('m', 1), ('p', 2), ('s', 4)]</span>
</pre></div>
</div>
<p>Коли буква зустрічається вперше, вона відсутня у відображенні, тому функція <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.defaultdict.default_factory" title="collections.defaultdict.default_factory"><code class="xref py py-attr docutils literal notranslate"><span class="pre">default_factory</span></code></a> викликає <a class="reference internal" href="https://docs.python.org/uk/3/library/functions.html#int" title="int"><code class="xref py py-func docutils literal notranslate"><span class="pre">int()</span></code></a>, щоб надати нульову кількість за умовчанням. Потім операція збільшення створює кількість для кожної літери.</p>
<p>Функція <a class="reference internal" href="https://docs.python.org/uk/3/library/functions.html#int" title="int"><code class="xref py py-func docutils literal notranslate"><span class="pre">int()</span></code></a>, яка завжди повертає нуль, є лише окремим випадком постійних функцій. Швидший і більш гнучкий спосіб створення постійних функцій полягає у використанні лямбда-функції, яка може надати будь-яке постійне значення (не лише нуль):</p>
<div class="doctest highlight-default notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 0.8px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">constant_factory</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">value</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="n">constant_factory</span><span class="p">(</span><span class="s1">'&lt;missing&gt;'</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">'John'</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s1">'ran'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">'</span><span class="si">%(name)s</span><span class="s1"> </span><span class="si">%(action)s</span><span class="s1"> to </span><span class="si">%(object)s</span><span class="s1">'</span> <span class="o">%</span> <span class="n">d</span>
<span class="go">'John ran to &lt;missing&gt;'</span>
</pre></div>
</div>
<p>Встановлення <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.defaultdict.default_factory" title="collections.defaultdict.default_factory"><code class="xref py py-attr docutils literal notranslate"><span class="pre">default_factory</span></code></a> на <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#set" title="set"><code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code></a> робить <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.defaultdict" title="collections.defaultdict"><code class="xref py py-class docutils literal notranslate"><span class="pre">defaultdict</span></code></a> корисним для створення словника наборів:</p>
<div class="doctest highlight-default notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 0.8px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">'red'</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">'blue'</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="s1">'red'</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="s1">'blue'</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="s1">'red'</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">'blue'</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">set</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">d</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
<span class="go">[('blue', {2, 4}), ('red', {1, 3})]</span>
</pre></div>
</div>
</section>
</section>
<section id="namedtuple-factory-function-for-tuples-with-named-fields">
<h2><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.namedtuple" title="collections.namedtuple"><code class="xref py py-func docutils literal notranslate"><span class="pre">namedtuple()</span></code></a> Фабрична функція для кортежів з іменованими полями<a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#namedtuple-factory-function-for-tuples-with-named-fields" title="Постійне посилання на цей заголовок">¶</a></h2>
<p>Іменовані кортежі призначають значення кожній позиції в кортежі та забезпечують більш читабельний самодокументований код. Їх можна використовувати скрізь, де використовуються звичайні кортежі, і вони додають можливість доступу до полів за назвою замість індексу позиції.</p>
<dl class="py function">
<dt class="sig sig-object py" id="collections.namedtuple">
<span class="sig-prename descclassname"><span class="pre">collections.</span></span><span class="sig-name descname"><span class="pre">namedtuple</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">typename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field_names</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">defaults</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.namedtuple" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Повертає новий підклас кортежу з назвою <em>typename</em>. Новий підклас використовується для створення кортежних об’єктів, які мають поля, доступні за допомогою пошуку атрибутів, а також які можна індексувати та повторювати. Екземпляри підкласу також мають корисний рядок документації (з назвою типу та іменами полів) і корисний метод <code class="xref py py-meth docutils literal notranslate"><span class="pre">__repr__()</span></code>, який перераховує вміст кортежу у форматі <code class="docutils literal notranslate"><span class="pre">ім'я=значення</span></code>.</p>
<p><em>Імена_полів</em> — це послідовність рядків, наприклад <code class="docutils literal notranslate"><span class="pre">['x',</span> <span class="pre">'y']</span></code>. Крім того, <em>назви_полів</em> можуть бути одним рядком із назвою кожного поля, розділеного пробілами та/або комами, наприклад <code class="docutils literal notranslate"><span class="pre">'x</span> <span class="pre">y'</span></code> або <code class="docutils literal notranslate"><span class="pre">'x,</span> <span class="pre">y'</span></code>.</p>
<p>Для імені поля можна використовувати будь-який дійсний ідентифікатор Python, за винятком імен, що починаються з підкреслення. Дійсні ідентифікатори складаються з літер, цифр і підкреслення, але не починаються з цифри або підкреслення і не можуть бути <a class="reference internal" href="https://docs.python.org/uk/3/library/keyword.html#module-keyword" title="keyword: Test whether a string is a keyword in Python."><code class="xref py py-mod docutils literal notranslate"><span class="pre">keyword</span></code></a>, таким як <em>клас</em>, <em>для</em>, <em>повернення</em>, <em>глобальний</em>, <em>перехід</em> , або <em>підняти</em>.</p>
<p>Якщо <em>rename</em> має значення true, недійсні назви полів автоматично замінюються позиційними іменами. Наприклад, <code class="docutils literal notranslate"><span class="pre">['abc',</span> <span class="pre">'def',</span> <span class="pre">'ghi',</span> <span class="pre">'abc']</span></code> перетворюється на <code class="docutils literal notranslate"><span class="pre">['abc',</span> <span class="pre">'_1',</span> <span class="pre">'ghi',</span> <span class="pre">'_3']</span></code>, усуваючи ключове слово <code class="docutils literal notranslate"><span class="pre">def</span></code> і повторюване ім’я поля <code class="docutils literal notranslate"><span class="pre">abc</span></code>.</p>
<p><em>defaults</em> може бути <code class="docutils literal notranslate"><span class="pre">None</span></code> або <a class="reference internal" href="https://docs.python.org/uk/3/glossary.html#term-iterable"><span class="xref std std-term">iterable</span></a> значень за замовчуванням. Оскільки поля зі значенням за замовчуванням мають бути після будь-яких полів без значення за замовчуванням, <em>за замовчуванням</em> застосовуються до крайніх правих параметрів. Наприклад, якщо імена полів <code class="docutils literal notranslate"><span class="pre">['x',</span> <span class="pre">'y',</span> <span class="pre">'z']</span></code>, а значення за умовчанням <code class="docutils literal notranslate"><span class="pre">(1,</span> <span class="pre">2)</span></code>, тоді <code class="docutils literal notranslate"><span class="pre">x</span></code> буде обов’язковим аргументом, <code class="docutils literal notranslate"><span class="pre">y</span></code> за замовчуванням буде <code class="docutils literal notranslate"><span class="pre">1</span></code>, а <code class="docutils literal notranslate"><span class="pre">z</span></code> буде <code class="docutils literal notranslate"><span class="pre">2</span></code>.</p>
<p>Якщо визначено <em>module</em>, атрибут <code class="docutils literal notranslate"><span class="pre">__module__</span></code> названого кортежу встановлюється на це значення.</p>
<p>Іменовані екземпляри кортежу не мають словників для кожного екземпляра, тому вони легкі та не вимагають більше пам’яті, ніж звичайні кортежі.</p>
<p>Щоб підтримувати маринування, іменований клас кортежу має бути призначений змінній, яка відповідає <em>typename</em>.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Змінено в версії 3.1: </span>Додано підтримку <em>перейменування</em>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Змінено в версії 3.6: </span>Параметри <em>verbose</em> і <em>rename</em> стали <a class="reference internal" href="https://docs.python.org/uk/3/glossary.html#keyword-only-parameter"><span class="std std-ref">аргументами лише для ключових слів</span></a>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Змінено в версії 3.6: </span>Додано параметр <em>module</em>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Змінено в версії 3.7: </span>Видалено параметр <em>verbose</em> і атрибут <code class="xref py py-attr docutils literal notranslate"><span class="pre">_source</span></code>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Змінено в версії 3.7: </span>Додано параметр <em>defaults</em> і атрибут <code class="xref py py-attr docutils literal notranslate"><span class="pre">_field_defaults</span></code>.</p>
</div>
</dd></dl>

<div class="highlight-pycon3 notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 0.8px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Basic example</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Point</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">'Point'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'x'</span><span class="p">,</span> <span class="s1">'y'</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">22</span><span class="p">)</span>     <span class="c1"># instantiate with positional or keyword arguments</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>             <span class="c1"># indexable like the plain tuple (11, 22)</span>
<span class="go">33</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">p</span>                <span class="c1"># unpack like a regular tuple</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span>
<span class="go">(11, 22)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">p</span><span class="o">.</span><span class="n">y</span>               <span class="c1"># fields also accessible by name</span>
<span class="go">33</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span>                       <span class="c1"># readable __repr__ with a name=value style</span>
<span class="go">Point(x=11, y=22)</span>
</pre></div>
</div>
<p>Іменовані кортежі особливо корисні для призначення імен полів кортежам результатів, які повертаються модулями <a class="reference internal" href="https://docs.python.org/uk/3/library/csv.html#module-csv" title="csv: Write and read tabular data to and from delimited files."><code class="xref py py-mod docutils literal notranslate"><span class="pre">csv</span></code></a> або <a class="reference internal" href="https://docs.python.org/uk/3/library/sqlite3.html#module-sqlite3" title="sqlite3: A DB-API 2.0 implementation using SQLite 3.x."><code class="xref py py-mod docutils literal notranslate"><span class="pre">sqlite3</span></code></a>:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="n">EmployeeRecord</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">'EmployeeRecord'</span><span class="p">,</span> <span class="s1">'name, age, title, department, paygrade'</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">csv</span>
<span class="k">for</span> <span class="n">emp</span> <span class="ow">in</span> <span class="nb">map</span><span class="p">(</span><span class="n">EmployeeRecord</span><span class="o">.</span><span class="n">_make</span><span class="p">,</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s2">"employees.csv"</span><span class="p">,</span> <span class="s2">"rb"</span><span class="p">))):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">emp</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">emp</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">sqlite3</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">'/companydata'</span><span class="p">)</span>
<span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
<span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">'SELECT name, age, title, department, paygrade FROM employees'</span><span class="p">)</span>
<span class="k">for</span> <span class="n">emp</span> <span class="ow">in</span> <span class="nb">map</span><span class="p">(</span><span class="n">EmployeeRecord</span><span class="o">.</span><span class="n">_make</span><span class="p">,</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">emp</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">emp</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
</pre></div>
</div>
<p>На додаток до методів, успадкованих від кортежів, іменовані кортежі підтримують три додаткові методи та два атрибути. Щоб запобігти конфліктам імен полів, імена методів і атрибутів починаються зі знака підкреслення.</p>
<dl class="py method">
<dt class="sig sig-object py" id="collections.somenamedtuple._make">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">somenamedtuple.</span></span><span class="sig-name descname"><span class="pre">_make</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.somenamedtuple._make" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Метод класу, який створює новий екземпляр із існуючої послідовності або повторюється.</p>
<div class="highlight-pycon3 notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 0.8px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="mi">11</span><span class="p">,</span> <span class="mi">22</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Point</span><span class="o">.</span><span class="n">_make</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="go">Point(x=11, y=22)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="collections.somenamedtuple._asdict">
<span class="sig-prename descclassname"><span class="pre">somenamedtuple.</span></span><span class="sig-name descname"><span class="pre">_asdict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.somenamedtuple._asdict" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Повертає новий <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>, який зіставляє назви полів з відповідними значеннями:</p>
<div class="highlight-pycon3 notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 0.8px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">22</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">_asdict</span><span class="p">()</span>
<span class="go">{'x': 11, 'y': 22}</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Змінено в версії 3.1: </span>Повертає <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a> замість звичайного <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Змінено в версії 3.8: </span>Повертає звичайний <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> замість <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a>. Починаючи з Python 3.7, звичайні dicts гарантовано будуть упорядковані. Якщо потрібні додаткові функції <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a>, запропонованим виправленням є приведення результату до потрібного типу: <code class="docutils literal notranslate"><span class="pre">OrderedDict(nt._asdict())</span></code>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="collections.somenamedtuple._replace">
<span class="sig-prename descclassname"><span class="pre">somenamedtuple.</span></span><span class="sig-name descname"><span class="pre">_replace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.somenamedtuple._replace" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Повертає новий екземпляр іменованого кортежу, замінюючи вказані поля новими значеннями:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 0.8px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">22</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">_replace</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">33</span><span class="p">)</span>
<span class="go">Point(x=33, y=22)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">partnum</span><span class="p">,</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">inventory</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">inventory</span><span class="p">[</span><span class="n">partnum</span><span class="p">]</span> <span class="o">=</span> <span class="n">record</span><span class="o">.</span><span class="n">_replace</span><span class="p">(</span><span class="n">price</span><span class="o">=</span><span class="n">newprices</span><span class="p">[</span><span class="n">partnum</span><span class="p">],</span> <span class="n">timestamp</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">now</span><span class="p">())</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="collections.somenamedtuple._fields">
<span class="sig-prename descclassname"><span class="pre">somenamedtuple.</span></span><span class="sig-name descname"><span class="pre">_fields</span></span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.somenamedtuple._fields" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Кортеж рядків із переліком імен полів. Корисно для самоаналізу та для створення нових іменованих типів кортежів із існуючих іменованих кортежів.</p>
<div class="highlight-pycon3 notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 0.8px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">_fields</span>            <span class="c1"># view the field names</span>
<span class="go">('x', 'y')</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">Color</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">'Color'</span><span class="p">,</span> <span class="s1">'red green blue'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Pixel</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">'Pixel'</span><span class="p">,</span> <span class="n">Point</span><span class="o">.</span><span class="n">_fields</span> <span class="o">+</span> <span class="n">Color</span><span class="o">.</span><span class="n">_fields</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Pixel</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">Pixel(x=11, y=22, red=128, green=255, blue=0)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="collections.somenamedtuple._field_defaults">
<span class="sig-prename descclassname"><span class="pre">somenamedtuple.</span></span><span class="sig-name descname"><span class="pre">_field_defaults</span></span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.somenamedtuple._field_defaults" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Словник зіставляє назви полів зі значеннями за замовчуванням.</p>
<div class="highlight-pycon3 notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 0.8px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Account</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">'Account'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'type'</span><span class="p">,</span> <span class="s1">'balance'</span><span class="p">],</span> <span class="n">defaults</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Account</span><span class="o">.</span><span class="n">_field_defaults</span>
<span class="go">{'balance': 0}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Account</span><span class="p">(</span><span class="s1">'premium'</span><span class="p">)</span>
<span class="go">Account(type='premium', balance=0)</span>
</pre></div>
</div>
</dd></dl>

<p>Щоб отримати поле, ім’я якого зберігається в рядку, використовуйте функцію <a class="reference internal" href="https://docs.python.org/uk/3/library/functions.html#getattr" title="getattr"><code class="xref py py-func docutils literal notranslate"><span class="pre">getattr()</span></code></a>:</p>
<div class="doctest highlight-default notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 0.8px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">getattr</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="s1">'x'</span><span class="p">)</span>
<span class="go">11</span>
</pre></div>
</div>
<p>Щоб перетворити словник на іменований кортеж, використовуйте оператор подвійної зірочки (як описано в <a class="reference internal" href="https://docs.python.org/uk/3/tutorial/controlflow.html#tut-unpacking-arguments"><span class="std std-ref">Розпакування списків аргументів</span></a>):</p>
<div class="doctest highlight-default notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 0.8px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'x'</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span> <span class="s1">'y'</span><span class="p">:</span> <span class="mi">22</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Point</span><span class="p">(</span><span class="o">**</span><span class="n">d</span><span class="p">)</span>
<span class="go">Point(x=11, y=22)</span>
</pre></div>
</div>
<p>Оскільки іменований кортеж є звичайним класом Python, його легко додати або змінити функціональність за допомогою підкласу. Ось як додати обчислюване поле та формат друку з фіксованою шириною:</p>
<div class="highlight-pycon3 notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 0.8px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Point</span><span class="p">(</span><span class="n">namedtuple</span><span class="p">(</span><span class="s1">'Point'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'x'</span><span class="p">,</span> <span class="s1">'y'</span><span class="p">])):</span>
<span class="gp">... </span>    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">()</span>
<span class="gp">... </span>    <span class="nd">@property</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">hypot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span> <span class="o">**</span> <span class="mf">0.5</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="s1">'Point: x=</span><span class="si">%6.3f</span><span class="s1">  y=</span><span class="si">%6.3f</span><span class="s1">  hypot=</span><span class="si">%6.3f</span><span class="s1">'</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">hypot</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">5</span><span class="o">/</span><span class="mi">7</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="go">Point: x= 3.000  y= 4.000  hypot= 5.000</span>
<span class="go">Point: x=14.000  y= 0.714  hypot=14.018</span>
</pre></div>
</div>
<p>Показаний вище підклас встановлює <code class="docutils literal notranslate"><span class="pre">__slots__</span></code> на порожній кортеж. Це допомагає підтримувати низькі вимоги до пам’яті, запобігаючи створенню словників примірників.</p>
<p>Підкласи не корисні для додавання нових збережених полів. Замість цього просто створіть новий іменований тип кортежу з атрибута <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.somenamedtuple._fields" title="collections.somenamedtuple._fields"><code class="xref py py-attr docutils literal notranslate"><span class="pre">_fields</span></code></a>:</p>
<div class="doctest highlight-default notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 0.8px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Point3D</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">'Point3D'</span><span class="p">,</span> <span class="n">Point</span><span class="o">.</span><span class="n">_fields</span> <span class="o">+</span> <span class="p">(</span><span class="s1">'z'</span><span class="p">,))</span>
</pre></div>
</div>
<p>Рядки документів можна налаштувати шляхом прямого призначення полів <code class="docutils literal notranslate"><span class="pre">__doc__</span></code>:</p>
<div class="doctest highlight-default notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 0.8px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Book</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">'Book'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'id'</span><span class="p">,</span> <span class="s1">'title'</span><span class="p">,</span> <span class="s1">'authors'</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Book</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">+=</span> <span class="s1">': Hardcover book in active collection'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Book</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">=</span> <span class="s1">'13-digit ISBN'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Book</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">=</span> <span class="s1">'Title of first printing'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Book</span><span class="o">.</span><span class="n">authors</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">=</span> <span class="s1">'List of authors sorted by last name'</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Змінено в версії 3.5: </span>Документаційні рядки властивостей стали доступними для запису.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">Дивись також</p>
<ul>
<li><p>Дивіться <a class="reference internal" href="https://docs.python.org/uk/3/library/typing.html#typing.NamedTuple" title="typing.NamedTuple"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.NamedTuple</span></code></a>, щоб дізнатися, як додати підказки типу для іменованих кортежів. Він також забезпечує елегантну нотацію за допомогою ключового слова <a class="reference internal" href="https://docs.python.org/uk/3/reference/compound_stmts.html#class"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">class</span></code></a>:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Component</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
    <span class="n">part_number</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">weight</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">description</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>
</div>
</li>
<li><p>Перегляньте <a class="reference internal" href="https://docs.python.org/uk/3/library/types.html#types.SimpleNamespace" title="types.SimpleNamespace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">types.SimpleNamespace()</span></code></a> для змінного простору імен, заснованого на базовому словнику замість кортежу.</p></li>
<li><p>Модуль <a class="reference internal" href="https://docs.python.org/uk/3/library/dataclasses.html#module-dataclasses" title="dataclasses: Generate special methods on user-defined classes."><code class="xref py py-mod docutils literal notranslate"><span class="pre">dataclasses</span></code></a> надає декоратор і функції для автоматичного додавання згенерованих спеціальних методів до визначених користувачем класів.</p></li>
</ul>
</div>
</section>
<section id="ordereddict-objects">
<h2><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a> об’єкти<a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#ordereddict-objects" title="Постійне посилання на цей заголовок">¶</a></h2>
<p>Упорядковані словники схожі на звичайні словники, але мають деякі додаткові можливості, пов’язані з операціями впорядкування. Тепер вони стали менш важливими, оскільки вбудований клас <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> отримав можливість запам’ятовувати порядок вставки (ця нова поведінка стала гарантованою в Python 3.7).</p>
<p>Деякі відмінності від <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> все ще залишаються:</p>
<ul>
<li><p>Звичайний <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> був розроблений, щоб дуже добре виконувати операції відображення. Відстеження порядку вставки було другорядним.</p></li>
<li><p><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a> був розроблений, щоб добре справлятися з операціями зміни порядку. Ефективність простору, швидкість ітерації та продуктивність операцій оновлення були другорядними.</p></li>
<li><p>Алгоритм <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a> може виконувати часті операції зміни порядку краще, ніж <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>. Як показано в наведених нижче рецептах, це робить його придатним для реалізації різних видів кешів LRU.</p></li>
<li><p>Операція рівності для <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a> перевіряє відповідність порядку.</p>
<p>Звичайний <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> може емулювати чутливий до порядку тест рівності з <code class="docutils literal notranslate"><span class="pre">p</span> <span class="pre">==</span> <span class="pre">q</span> <span class="pre">і</span> <span class="pre">all(k1</span> <span class="pre">==</span> <span class="pre">k2</span> <span class="pre">для</span> <span class="pre">k1,</span> <span class="pre">k2</span> <span class="pre">в</span> <span class="pre">zip(p,</span> <span class="pre">q))</span></code>.</p>
</li>
<li><p>Метод <code class="xref py py-meth docutils literal notranslate"><span class="pre">popitem()</span></code> <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a> має інший підпис. Він приймає необов’язковий аргумент, щоб вказати, який елемент витягується.</p>
<p>Звичайний <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> може емулювати OrderedDict <code class="docutils literal notranslate"><span class="pre">od.popitem(last=True)</span></code> за допомогою <code class="docutils literal notranslate"><span class="pre">d.popitem()</span></code>, який гарантовано відкриває крайній правий (останній) елемент.</p>
<p>Звичайний <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> може емулювати OrderedDict <code class="docutils literal notranslate"><span class="pre">od.popitem(last=False)</span></code> з <code class="docutils literal notranslate"><span class="pre">(k</span> <span class="pre">:=</span> <span class="pre">next(iter(d)),</span> <span class="pre">d.pop(k))</span></code>, який повертатиме і видаліть крайній лівий (перший) елемент, якщо він існує.</p>
</li>
<li><p><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a> має метод <code class="xref py py-meth docutils literal notranslate"><span class="pre">move_to_end()</span></code> для ефективного переміщення елемента в кінцеву точку.</p>
<p>Звичайний <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> може емулювати OrderedDict <code class="docutils literal notranslate"><span class="pre">od.move_to_end(k,</span> <span class="pre">last=True)</span></code> з <code class="docutils literal notranslate"><span class="pre">d[k]</span> <span class="pre">=</span> <span class="pre">d.pop(k)</span></code>, який переміщуватиме ключ і його пов’язане значення до крайньої правої (останньої) позиції.</p>
<p>Звичайний <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> не має ефективного еквівалента для OrderedDict <code class="docutils literal notranslate"><span class="pre">od.move_to_end(k,</span> <span class="pre">last=False)</span></code>, який переміщує ключ і пов’язане з ним значення в крайню ліву (першу) позицію.</p>
</li>
<li><p>До Python 3.8 <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> не мав методу <code class="xref py py-meth docutils literal notranslate"><span class="pre">__reversed__()</span></code>.</p></li>
</ul>
<dl class="py class">
<dt class="sig sig-object py" id="collections.OrderedDict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">collections.</span></span><span class="sig-name descname"><span class="pre">OrderedDict</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.OrderedDict" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Повертає екземпляр підкласу <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>, який має спеціалізовані методи для зміни порядку словника.</p>
<div class="versionadded">
<p><span class="versionmodified added">Нове в версії 3.1.</span></p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="collections.OrderedDict.popitem">
<span class="sig-name descname"><span class="pre">popitem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">last</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.OrderedDict.popitem" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Метод <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.OrderedDict.popitem" title="collections.OrderedDict.popitem"><code class="xref py py-meth docutils literal notranslate"><span class="pre">popitem()</span></code></a> для впорядкованих словників повертає та видаляє пару (ключ, значення). Пари повертаються в порядку <abbr title="останній прийшов, перший вийшов">LIFO</abbr>, якщо <em>останній</em> має значення true, або <abbr title="перший прийшов, перший вийшов">FIFO</abbr>, якщо значення false.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="collections.OrderedDict.move_to_end">
<span class="sig-name descname"><span class="pre">move_to_end</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">last</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.OrderedDict.move_to_end" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Перемістіть наявний <em>ключ</em> у будь-який кінець упорядкованого словника. Елемент переміщується в правий кінець, якщо <em>last</em> має значення true (за замовчуванням), або на початок, якщо <em>last</em> має значення false. Викликає <a class="reference internal" href="https://docs.python.org/uk/3/library/exceptions.html#KeyError" title="KeyError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">KeyError</span></code></a>, якщо <em>ключ</em> не існує:</p>
<div class="highlight-pycon3 notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 0.8px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">(</span><span class="s1">'abcde'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">move_to_end</span><span class="p">(</span><span class="s1">'b'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">''</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">'acdeb'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">move_to_end</span><span class="p">(</span><span class="s1">'b'</span><span class="p">,</span> <span class="n">last</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">''</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">'bacde'</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Нове в версії 3.2.</span></p>
</div>
</dd></dl>

</dd></dl>

<p>На додаток до звичайних методів відображення, упорядковані словники також підтримують зворотну ітерацію за допомогою <a class="reference internal" href="https://docs.python.org/uk/3/library/functions.html#reversed" title="reversed"><code class="xref py py-func docutils literal notranslate"><span class="pre">reversed()</span></code></a>.</p>
<p>Перевірки рівності між об’єктами <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a> чутливі до порядку та реалізовані як <code class="docutils literal notranslate"><span class="pre">list(od1.items())==list(od2.items())</span></code>. Перевірки рівності між об’єктами <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a> та іншими об’єктами <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.abc.html#collections.abc.Mapping" title="collections.abc.Mapping"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mapping</span></code></a> не залежать від порядку, як і звичайні словники. Це дозволяє замінювати об’єкти <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a> будь-де, де використовується звичайний словник.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Змінено в версії 3.5: </span>Елементи, ключі та значення <a class="reference internal" href="https://docs.python.org/uk/3/glossary.html#term-dictionary-view"><span class="xref std std-term">views</span></a> <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a> тепер підтримують зворотну ітерацію за допомогою <a class="reference internal" href="https://docs.python.org/uk/3/library/functions.html#reversed" title="reversed"><code class="xref py py-func docutils literal notranslate"><span class="pre">reversed()</span></code></a>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Змінено в версії 3.6: </span>З прийняттям <span class="target" id="index-10"></span><a class="pep reference external" href="https://peps.python.org/pep-0468/"><strong>PEP 468</strong></a> зберігається порядок для аргументів ключових слів, які передаються конструктору <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a> і його методу <code class="xref py py-meth docutils literal notranslate"><span class="pre">update()</span></code>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Змінено в версії 3.9: </span>Додано оператори злиття (<code class="docutils literal notranslate"><span class="pre">|</span></code>) і оновлення (<code class="docutils literal notranslate"><span class="pre">|=</span></code>), указані в <span class="target" id="index-11"></span><a class="pep reference external" href="https://peps.python.org/pep-0584/"><strong>PEP 584</strong></a>.</p>
</div>
<section id="ordereddict-examples-and-recipes">
<h3><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a> Приклади та рецепти<a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#ordereddict-examples-and-recipes" title="Постійне посилання на цей заголовок">¶</a></h3>
<p>Легко створити впорядкований варіант словника, який запам’ятовує порядок <em>останнього</em> введення ключів. Якщо новий запис перезаписує існуючий запис, початкова позиція вставки змінюється та переміщується в кінець:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">LastUpdatedOrderedDict</span><span class="p">(</span><span class="n">OrderedDict</span><span class="p">):</span>
    <span class="s1">'Store items in the order the keys were last added'</span>

    <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__setitem__</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">move_to_end</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</pre></div>
</div>
<p><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a> також буде корисним для реалізації варіантів <a class="reference internal" href="https://docs.python.org/uk/3/library/functools.html#functools.lru_cache" title="functools.lru_cache"><code class="xref py py-func docutils literal notranslate"><span class="pre">functools.lru_cache()</span></code></a>:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">time</span>

<span class="k">class</span> <span class="nc">TimeBoundedLRU</span><span class="p">:</span>
    <span class="s2">"LRU Cache that invalidates and refreshes old entries."</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">maxage</span><span class="o">=</span><span class="mi">30</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cache</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>      <span class="c1"># { args : (timestamp, result)}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">func</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">maxsize</span> <span class="o">=</span> <span class="n">maxsize</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">maxage</span> <span class="o">=</span> <span class="n">maxage</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">args</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">move_to_end</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
            <span class="n">timestamp</span><span class="p">,</span> <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="p">[</span><span class="n">args</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">timestamp</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxage</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">result</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="p">[</span><span class="n">args</span><span class="p">]</span> <span class="o">=</span> <span class="n">time</span><span class="p">(),</span> <span class="n">result</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="p">)</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxsize</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">popitem</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MultiHitLRUCache</span><span class="p">:</span>
    <span class="sd">""" LRU cache that defers caching a result until</span>
<span class="sd">        it has been requested multiple times.</span>

<span class="sd">        To avoid flushing the LRU cache with one-time requests,</span>
<span class="sd">        we don't cache until a request has been made more than once.</span>

<span class="sd">    """</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">maxrequests</span><span class="o">=</span><span class="mi">4096</span><span class="p">,</span> <span class="n">cache_after</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">requests</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>   <span class="c1"># { uncached_key : request_count }</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cache</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>      <span class="c1"># { cached_key : function_result }</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">func</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">maxrequests</span> <span class="o">=</span> <span class="n">maxrequests</span>  <span class="c1"># max number of uncached requests</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">maxsize</span> <span class="o">=</span> <span class="n">maxsize</span>          <span class="c1"># max number of stored return values</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cache_after</span> <span class="o">=</span> <span class="n">cache_after</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">args</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">move_to_end</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="p">[</span><span class="n">args</span><span class="p">]</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">requests</span><span class="p">[</span><span class="n">args</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">requests</span><span class="p">[</span><span class="n">args</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache_after</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">requests</span><span class="o">.</span><span class="n">move_to_end</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">requests</span><span class="p">)</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxrequests</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">requests</span><span class="o">.</span><span class="n">popitem</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">requests</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="p">[</span><span class="n">args</span><span class="p">]</span> <span class="o">=</span> <span class="n">result</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="p">)</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxsize</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">popitem</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
</pre></div>
</div>
</section>
</section>
<section id="userdict-objects">
<h2><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.UserDict" title="collections.UserDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserDict</span></code></a> об’єкти<a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#userdict-objects" title="Постійне посилання на цей заголовок">¶</a></h2>
<p>Клас <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.UserDict" title="collections.UserDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserDict</span></code></a> діє як оболонка навколо об’єктів словника. Потреба в цьому класі була частково витіснена можливістю створювати підклас безпосередньо з <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>; однак з цим класом може бути легше працювати, оскільки базовий словник доступний як атрибут.</p>
<dl class="py class">
<dt class="sig sig-object py" id="collections.UserDict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">collections.</span></span><span class="sig-name descname"><span class="pre">UserDict</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">initialdata</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.UserDict" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Клас, який імітує словник. Вміст екземпляра зберігається у звичайному словнику, який доступний через атрибут <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.UserDict.data" title="collections.UserDict.data"><code class="xref py py-attr docutils literal notranslate"><span class="pre">data</span></code></a> екземплярів <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.UserDict" title="collections.UserDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserDict</span></code></a>. Якщо надано <em>initialdata</em>, <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.UserDict.data" title="collections.UserDict.data"><code class="xref py py-attr docutils literal notranslate"><span class="pre">data</span></code></a> ініціалізується його вмістом; зауважте, що посилання на <em>ініціальні дані</em> не буде збережено, що дозволить використовувати його для інших цілей.</p>
<p>На додаток до підтримки методів і операцій зіставлення, екземпляри <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.UserDict" title="collections.UserDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserDict</span></code></a> забезпечують такий атрибут:</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="collections.UserDict.data">
<span class="sig-name descname"><span class="pre">data</span></span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.UserDict.data" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Справжній словник, який використовується для зберігання вмісту класу <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.UserDict" title="collections.UserDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserDict</span></code></a>.</p>
</dd></dl>

</dd></dl>

</section>
<section id="userlist-objects">
<h2><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.UserList" title="collections.UserList"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserList</span></code></a> об’єкти<a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#userlist-objects" title="Постійне посилання на цей заголовок">¶</a></h2>
<p>Цей клас діє як оболонка навколо об’єктів списку. Це корисний базовий клас для ваших власних спископодібних класів, які можуть успадковувати їх і перевизначати існуючі методи або додавати нові. Таким чином можна додавати нові моделі поведінки до списків.</p>
<p>Потреба в цьому класі була частково витіснена можливістю створювати підкласи безпосередньо з <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#list" title="list"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>; однак з цим класом може бути легше працювати, оскільки базовий список доступний як атрибут.</p>
<dl class="py class">
<dt class="sig sig-object py" id="collections.UserList">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">collections.</span></span><span class="sig-name descname"><span class="pre">UserList</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.UserList" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Клас, що імітує список. Вміст екземпляра зберігається у звичайному списку, який доступний через атрибут <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.UserList.data" title="collections.UserList.data"><code class="xref py py-attr docutils literal notranslate"><span class="pre">data</span></code></a> екземплярів <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.UserList" title="collections.UserList"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserList</span></code></a>. Вміст екземпляра спочатку встановлено як копія <em>списку</em>, за замовчуванням — порожній список <code class="docutils literal notranslate"><span class="pre">[]</span></code>. <em>list</em> може бути будь-яким ітерованим, наприклад справжнім списком Python або об’єктом <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.UserList" title="collections.UserList"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserList</span></code></a>.</p>
<p>На додаток до підтримки методів і операцій змінних послідовностей, екземпляри <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.UserList" title="collections.UserList"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserList</span></code></a> забезпечують такий атрибут:</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="collections.UserList.data">
<span class="sig-name descname"><span class="pre">data</span></span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.UserList.data" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Справжній об’єкт <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#list" title="list"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>, який використовується для зберігання вмісту класу <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.UserList" title="collections.UserList"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserList</span></code></a>.</p>
</dd></dl>

</dd></dl>

<p><strong>Вимоги до підкласів:</strong> Очікується, що підкласи <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.UserList" title="collections.UserList"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserList</span></code></a> пропонуватимуть конструктор, який можна викликати без аргументів або з одним аргументом. Список операцій, які повертають нову послідовність, намагається створити екземпляр фактичного класу реалізації. Для цього передбачається, що конструктор можна викликати за допомогою одного параметра, який є об’єктом послідовності, що використовується як джерело даних.</p>
<p>Якщо похідний клас не бажає відповідати цій вимозі, всі спеціальні методи, підтримувані цим класом, повинні бути перевизначені; будь ласка, зверніться до джерел для отримання інформації про методи, які необхідно надати в такому випадку.</p>
</section>
<section id="userstring-objects">
<h2><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.UserString" title="collections.UserString"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserString</span></code></a> об’єкти<a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#userstring-objects" title="Постійне посилання на цей заголовок">¶</a></h2>
<p>Клас <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.UserString" title="collections.UserString"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserString</span></code></a> діє як оболонка навколо рядкових об’єктів. Потреба в цьому класі була частково витіснена можливістю створювати підклас безпосередньо з <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#str" title="str"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>; однак з цим класом може бути легше працювати, оскільки базовий рядок доступний як атрибут.</p>
<dl class="py class">
<dt class="sig sig-object py" id="collections.UserString">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">collections.</span></span><span class="sig-name descname"><span class="pre">UserString</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seq</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.UserString" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Клас, який імітує рядковий об’єкт. Вміст екземпляра зберігається у звичайному рядковому об’єкті, який доступний через атрибут <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.UserString.data" title="collections.UserString.data"><code class="xref py py-attr docutils literal notranslate"><span class="pre">data</span></code></a> екземплярів <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.UserString" title="collections.UserString"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserString</span></code></a>. Для вмісту екземпляра спочатку встановлено копію <em>seq</em>. Аргументом <em>seq</em> може бути будь-який об’єкт, який можна перетворити на рядок за допомогою вбудованої функції <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#str" title="str"><code class="xref py py-func docutils literal notranslate"><span class="pre">str()</span></code></a>.</p>
<p>На додаток до підтримки методів і операцій із рядками, екземпляри <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.UserString" title="collections.UserString"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserString</span></code></a> надають такий атрибут:</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="collections.UserString.data">
<span class="sig-name descname"><span class="pre">data</span></span><a class="headerlink" href="https://docs.python.org/uk/3/library/collections.html#collections.UserString.data" title="Постійне посилання на це визначення">¶</a></dt>
<dd><p>Справжній об’єкт <a class="reference internal" href="https://docs.python.org/uk/3/library/stdtypes.html#str" title="str"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, який використовується для зберігання вмісту класу <a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#collections.UserString" title="collections.UserString"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserString</span></code></a>.</p>
</dd></dl>

<div class="versionchanged">
<p><span class="versionmodified changed">Змінено в версії 3.5: </span>Нові методи <code class="docutils literal notranslate"><span class="pre">__getnewargs__</span></code>, <code class="docutils literal notranslate"><span class="pre">__rmod__</span></code>, <code class="docutils literal notranslate"><span class="pre">casefold</span></code>, <code class="docutils literal notranslate"><span class="pre">format_map</span></code>, <code class="docutils literal notranslate"><span class="pre">isprintable</span></code> і <code class="docutils literal notranslate"><span class="pre">maketrans</span></code>.</p>
</div>
</dd></dl>

</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper" style="float: left; margin-right: 0px; width: 217px;">
  <div>
    <h3><a href="https://docs.python.org/uk/3/contents.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">collections</span></code> — Контейнерні типи даних</a><ul>
<li><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#chainmap-objects"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChainMap</span></code> об’єкти</a><ul>
<li><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#chainmap-examples-and-recipes"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChainMap</span></code> Приклади та рецепти</a></li>
</ul>
</li>
<li><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#counter-objects"><code class="xref py py-class docutils literal notranslate"><span class="pre">Counter</span></code> об’єкти</a></li>
<li><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#deque-objects"><code class="xref py py-class docutils literal notranslate"><span class="pre">deque</span></code> об’єкти</a><ul>
<li><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#deque-recipes"><code class="xref py py-class docutils literal notranslate"><span class="pre">deque</span></code> Рецепти</a></li>
</ul>
</li>
<li><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#defaultdict-objects"><code class="xref py py-class docutils literal notranslate"><span class="pre">defaultdict</span></code> об’єкти</a><ul>
<li><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#defaultdict-examples"><code class="xref py py-class docutils literal notranslate"><span class="pre">defaultdict</span></code> Приклади</a></li>
</ul>
</li>
<li><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#namedtuple-factory-function-for-tuples-with-named-fields"><code class="xref py py-func docutils literal notranslate"><span class="pre">namedtuple()</span></code> Фабрична функція для кортежів з іменованими полями</a></li>
<li><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#ordereddict-objects"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code> об’єкти</a><ul>
<li><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#ordereddict-examples-and-recipes"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code> Приклади та рецепти</a></li>
</ul>
</li>
<li><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#userdict-objects"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserDict</span></code> об’єкти</a></li>
<li><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#userlist-objects"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserList</span></code> об’єкти</a></li>
<li><a class="reference internal" href="https://docs.python.org/uk/3/library/collections.html#userstring-objects"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserString</span></code> об’єкти</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Попередній розділ</h4>
    <p class="topless"><a href="https://docs.python.org/uk/3/library/calendar.html" title="Попередній розділ"><code class="xref py py-mod docutils literal notranslate"><span class="pre">calendar</span></code> — Загальні функції, пов’язані з календарем</a></p>
  </div>
  <div>
    <h4>Наступна тема</h4>
    <p class="topless"><a href="https://docs.python.org/uk/3/library/collections.abc.html" title="наступний розділ"><code class="xref py py-mod docutils literal notranslate"><span class="pre">collections.abc</span></code> — Abstract Base Classes for Containers</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>Ця сторінка</h3>
    <ul class="this-page-menu">
      <li><a href="https://docs.python.org/uk/3/bugs.html">Повідомити про помилку</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/3.11/Doc/library/collections.rst" rel="nofollow">Показати джерело
        </a>
      </li>
    </ul>
  </div>
        </div>
      <div id="sidebarbutton" title="Collapse sidebar" style="border-radius: 0px 5px 5px 0px; color: rgb(68, 68, 68); background-color: rgb(204, 204, 204); font-size: 1.2em; cursor: pointer; height: 100%; padding-left: 1px; margin-left: 218px;"><span style="display: block; position: fixed; top: 50%;">«</span></div></div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Навігація</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="https://docs.python.org/uk/3/genindex.html" title="Загальний покажчик">індекс</a></li>
        <li class="right">
          <a href="https://docs.python.org/uk/3/py-modindex.html" title="Python Module Index">модулі</a> |</li>
        <li class="right">
          <a href="https://docs.python.org/uk/3/library/collections.abc.html" title="collections.abc — Abstract Base Classes for Containers">наступний</a> |</li>
        <li class="right">
          <a href="https://docs.python.org/uk/3/library/calendar.html" title="calendar — Загальні функції, пов’язані з календарем">попередній</a> |</li>

          <li><img src="./collections.documentation_files/py.svg" alt="python logo" style="vertical-align: middle; margin-top: -1px"></li>
          <li><a href="https://www.python.org/">Python</a> »</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"><select id="language_select"><option value="en" selected="selected">English</option><option value="es">Spanish</option><option value="fr">French</option><option value="ja">Japanese</option><option value="ko">Korean</option><option value="pt-br">Brazilian Portuguese</option><option value="tr">Turkish</option><option value="zh-cn">Simplified Chinese</option><option value="zh-tw">Traditional Chinese</option></select></div>
            <div class="version_switcher_placeholder"><select id="version_select"><option value="3.13">dev (3.13)</option><option value="3.12">pre (3.12)</option><option value="3.11" selected="selected">3.11.3</option><option value="3.10">3.10</option><option value="3.9">3.9</option><option value="3.8">3.8</option><option value="3.7">3.7</option><option value="3.6">3.6</option><option value="3.5">3.5</option><option value="2.7">2.7</option></select></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="https://docs.python.org/uk/3/index.html">3.11.3 Documentation</a> »
    </li>

          <li class="nav-item nav-item-1"><a href="https://docs.python.org/uk/3/library/index.html">Стандартна бібліотека Python</a> »</li>
          <li class="nav-item nav-item-2"><a href="https://docs.python.org/uk/3/library/datatypes.html">Типи даних</a> »</li>
        <li class="nav-item nav-item-this"><a href="https://docs.python.org/uk/3/library/collections.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">collections</span></code> — Контейнерні типи даних</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="https://docs.python.org/uk/3/search.html" method="get">
          <input placeholder="Швидкий пошук" aria-label="Швидкий пошук" type="text" name="q">
          <input type="submit" value="Вперед">
          <input type="hidden" name="check_keywords" value="yes">
          <input type="hidden" name="area" value="default">
        </form>
    </div>
                     |
                </li>
            
      </ul>
    </div>  
    <div class="footer">
    © <a href="https://docs.python.org/uk/3/copyright.html">Авторське право</a> 2001-2023, Python Software Foundation.
    <br>
    This page is licensed under the Python Software Foundation License Version 2.
    <br>
    Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.
    <br>
    See <a href="https://docs.python.org/license.html">History and License</a> for more information.<br>
    <br>

    The Python Software Foundation is a non-profit corporation.
<a href="https://www.python.org/psf/donations/">Please donate.</a>
<br>
    <br>

    Востаннє оновлено трав. 24, 2023.
    <a href="https://docs.python.org/bugs.html">Found a bug</a>?
    <br>

    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.5.0.
    </div>

    <script type="text/javascript" src="./collections.documentation_files/switchers.js.Без названия"></script>
  
</body></html>